(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["view-history-order-details-breakdown-summary-HistoryMarketplaceOrderBreakdownSummary-vue"],{"58ac":function(t,e,s){"use strict";s("ac78")},"5f36":function(t,e,s){var a=s("dcbe");function r(t){return a(t)?t:[]}t.exports=r},"6e2d":function(t,e,s){"use strict";s.d(e,"a",(function(){return c}));s("b0c0");var a=s("d4ec"),r=s("bee2"),i=s("d173"),n=s.n(i),u=s("94ea"),o=s("286c"),c=function(){function t(){Object(a["a"])(this,t),this.name="",this.email="",this.id=-1,this.urn="",this.store={}}return Object(r["a"])(t,null,[{key:"badRatingReasons",value:function(){return[o["a"].WRONG_OR_MISSING_PRODUCT,o["a"].PRICING_PROBLEM,o["a"].BAD_PRODUCT_QUALITY,o["a"].TASTED_BAD,o["a"].PACKAGING_ISSUES,o["a"].WRONG_PRODUCTS,o["a"].MISSING_PRODUCTS,o["a"].POOR_QUALITY,o["a"].ALLERGY_NOT_CONSIDERED,o["a"].CHARGED_WRONG_AMOUNT,o["a"].SPECIAL_STORE_PROMOS]}},{key:"shouldPay",value:function(t){return t&&(!t.partnerStrategy||t.partnerStrategy===u["c"].PAY_PRODUCTS)}},{key:"paymentMethodIsCash",value:function(t){return t&&t.paymentMethod&&"CASH"===t.paymentMethod}},{key:"isAccepted",value:function(t){return t&&t.preparationStage===u["d"].ACCEPTED_BY_PARTNER}},{key:"isFinished",value:function(t){return t&&(t.currentStatus===u["b"].DELIVERED_STATUS||t.currentStatus===u["b"].CANCELED_STATUS)}},{key:"isCancelled",value:function(t){return!(!t||t.currentStatus!==u["b"].CANCELED_STATUS||!t.cancelReason)}},{key:"hasBadRatings",value:function(e){return e&&e.badRatingReasons&&n()(e.badRatingReasons,t.badRatingReasons()).length>0}},{key:"hasOriginalDescription",value:function(t){return!!t&&!!t.originalDescription&&t.originalDescription.length>0}},{key:"hasRefundIncident",value:function(t){return!!t&&!!t.refundIncident}},{key:"isMarketplace",value:function(t){return Boolean(t&&t.marketplace)}}]),t}()},a21a:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-breakdown-summary"},[a("div",{staticClass:"summary-title"},[t._v(" "+t._s(t.$t("order.summary.breakdown"))+" ")]),a("div",{staticClass:"summary-detail highlighted strong"},[a("label",[t._v(t._s(t.$t("order.summary.productPrice")))]),a("strong",[t._v(" "+t._s(t._f("currency")(t.totalProductsPrice))+" ")])]),a("div",{staticClass:"summary-detail"},[a("label",[t._v(t._s(t.$t("order.summary.minBasketSurcharge")))]),a("strong",[t._v(t._s(t._f("currency")(t.minBasketSurcharge)))])]),a("div",{staticClass:"summary-detail"},[a("label",[t._v(t._s(t.$t("order.summary.deliveryFee")))]),a("strong",[t._v(t._s(t._f("currency")(t.deliveryFee)))])]),a("div",{staticClass:"summary-detail summary-detail-discounts"},[a("div",{staticClass:"summary-detail-discounts-amount"},[a("label",[t._v(t._s(t.$t("order.summary.discounts")))]),a("strong",[t.discountsExist?a("span",{staticClass:"summary-detail-discounts-minus"},[t._v("-")]):t._e(),t._v(t._s(t._f("currency")(t.discountsTotal)))])])]),a("div",{staticClass:"separator"}),a("div",{staticClass:"summary-detail strong summary-detail-total",attrs:{"data-qa":"order-details-total"}},[a("label",[t._v(t._s(t.$t("order.summary.totalPrice")))]),a("strong",[t.isCashPayment?a("img",{attrs:{"data-qa":"order-details-cash-icon",src:s("1e5e"),alt:t.$t("order.messages.customer.payment.CASH")}}):t._e(),t._v(" "+t._s(t._f("currency")(t.totalPrice)))])]),t.isCustomerCashAmount?a("span",{staticClass:"summary-detail-customer-text"},[t._v(" ("+t._s(t.$t("order.summary.customer.cash",{amount:t.formattedAmount}))+") ")]):t._e(),t.showEstimatePriceHint?a("span",{staticClass:"order-breakdown-summary-hint"},[t._v(t._s(t.$t("order.summary.hint")))]):t._e()])},r=[],i=s("5530"),n=s("4128"),u=s("2f62"),o=s("6e2d"),c=s("458f"),d=s("40c5"),l={name:"HistoryMarketplaceOrderBreakdownSummary",props:{details:{type:Object,default:function(){return{deliveryFee:0,minBasketSurcharge:0,products:{total:0},discountsTotal:0,customerCashPaymentAmount:null,paymentMethod:""}}}},computed:Object(i["a"])(Object(i["a"])({},Object(u["c"])("authentication",[d["d"]])),{},{user:function(){return c["a"].parse(this[d["d"]]||{})},totalPrice:function(){return this.details&&this.details.products?new n["Decimal"](this.details.deliveryFee||0).plus(this.details.products.total||0).minus(this.details.discountsTotal||0):0},totalProductsPrice:function(){return this.details&&this.details.products&&this.details.products.total||0},minBasketSurcharge:function(){return this.details&&this.details.minBasketSurcharge||0},deliveryFee:function(){return new n["Decimal"](this.details&&this.details.deliveryFee||0).minus(this.minBasketSurcharge)},discountsTotal:function(){return this.details&&this.details.discountsTotal||0},discountsExist:function(){return this.discountsTotal>0},isCustomerCashAmount:function(){return this.details&&this.details.customerCashPaymentAmount||null},isCashPayment:function(){return this.details&&"CASH"===this.details.paymentMethod},shouldSeeOrderBreakdown:function(){return!o["a"].isFinished(this.details)&&(!!o["a"].isAccepted(this.details)&&(!this.user.isMCD()&&this.user.isAllowedToManageOrders()))},showEstimatePriceHint:function(){return!!this.details&&(!this.shouldSeeOrderBreakdown&&!this.user.isMCD())},formattedAmount:function(){return this.formatCurrency(this.details.customerCashPaymentAmount)}}),methods:{formatCurrency:function(t){return this.$options.filters["currency"](t)}}},m=l,h=(s("58ac"),s("2877")),y=Object(h["a"])(m,a,r,!1,null,"5f70698c",null);e["default"]=y.exports},ac78:function(t,e,s){},b3e9:function(t,e,s){var a=s("d612"),r=s("8db3"),i=s("5edf"),n=s("7948"),u=s("b047"),o=s("c584"),c=Math.min;function d(t,e,s){var d=s?i:r,l=t[0].length,m=t.length,h=m,y=Array(m),f=1/0,_=[];while(h--){var v=t[h];h&&e&&(v=n(v,u(e))),f=c(v.length,f),y[h]=!s&&(e||l>=120&&v.length>=120)?new a(h&&v):void 0}v=t[0];var p=-1,C=y[0];t:while(++p<l&&_.length<f){var S=v[p],g=e?e(S):S;if(S=s||0!==S?S:0,!(C?o(C,g):d(_,g,s))){h=m;while(--h){var A=y[h];if(!(A?o(A,g):d(t[h],g,s)))continue t}C&&C.push(g),_.push(S)}}return _}t.exports=d},d173:function(t,e,s){var a=s("7948"),r=s("b3e9"),i=s("100e"),n=s("5f36"),u=i((function(t){var e=a(t,n);return e.length&&e[0]===t[0]?r(e):[]}));t.exports=u}}]);