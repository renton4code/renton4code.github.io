{"version":3,"sources":["webpack:///./src/components/main/content/reports/history-order-details/breakdown-summary/HistoryNormalOrderBreakdownSummary.vue?7c99","webpack:///./src/components/main/content/reports/history-order-details/breakdown-summary/HistoryNormalOrderBreakdownSummary.vue","webpack:///./src/components/main/content/reports/history-order-details/breakdown-summary/HistoryNormalOrderBreakdownSummary.vue?4a91","webpack:///./src/components/main/content/reports/history-order-details/breakdown-summary/HistoryNormalOrderBreakdownSummary.vue?8d4f","webpack:///./src/components/main/content/reports/history-order-details/breakdown-summary/HistoryMarketplaceOrderBreakdownSummary.vue?a5ac","webpack:///./src/components/main/content/reports/HistoryOrderDetails.vue?49ca","webpack:///./src/components/main/content/reports/HistoryOrderDetails.vue","webpack:///./src/components/main/content/reports/HistoryOrderDetails.vue?562e","webpack:///./src/components/main/content/reports/HistoryOrderDetails.vue?599c","webpack:///./src/components/main/content/reports/HistoryOrderDetails.vue?cf7b","webpack:///./src/components/main/content/reports/history-order-details/breakdown-summary/HistoryNormalOrderBreakdownSummary.vue?9cd5","webpack:///./src/components/main/content/reports/history-order-details/breakdown-summary/HistoryMarketplaceOrderBreakdownSummary.vue?846e","webpack:///src/components/main/content/reports/history-order-details/breakdown-summary/HistoryMarketplaceOrderBreakdownSummary.vue","webpack:///./src/components/main/content/reports/history-order-details/breakdown-summary/HistoryMarketplaceOrderBreakdownSummary.vue?8854","webpack:///./src/components/main/content/reports/history-order-details/breakdown-summary/HistoryMarketplaceOrderBreakdownSummary.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","$t","totalPriceOfProducts","productDiscounts","_e","totalPrice","staticRenderFns","products","totalProductsPrice","partnerProductDiscounts","total","details","paymentMethod","haveProductsBeenRetrieved","Boolean","name","component","displayPickupCode","orderDetails","code","availableStoreAddresses","length","cityName","storeName","storeAddress","customer","$phone","phoneNumber","isMarketplace","deliveryAddress","label","email","companyName","taxId","companyAddressLine1","companyAddressLine2","companyPostalCode","companyAddressCity","originalDescription","_l","product","key","id","user","isSuperGlovo","directives","rawName","value","expression","getCourierImageUrl","courier","nativeOn","$event","showCourierReportOverlay","storeAddressId","on","hideCourierReportOverlay","courierReportOverlayVisible","picture","User","parse","storeAdmin","HistoryOrder","isMCD","hasOriginalDescription","reportedOrders","includes","isPickedUpByCustomer","Order","getShortCode","pickupCode","storeTrackingCode","usesKitchenCode","isKitchenCodeStoreAddress","Getter","components","HistoryOrderDetailsDescription","HistoryMarketplaceOrderBreakdownSummary","HistoryNormalOrderBreakdownSummary","OrderProductItem","ReportCourierPopup","GlovoBtn","Pair","Icon","Placeholder","GlovoBadge","_f","minBasketSurcharge","deliveryFee","discountsTotal","amount","formattedAmount","props","type","Object","default","computed","discountsExist","isCustomerCashAmount","isCashPayment","shouldSeeOrderBreakdown","isAllowedToManageOrders","showEstimatePriceHint","formatCurrency","customerCashPaymentAmount","methods","$options","filters"],"mappings":"sPAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAAEN,EAAuB,oBAAE,CAACI,EAAG,MAAM,CAACE,YAAY,gBAAgBC,MAAM,CAAC,UAAU,oBAAoB,CAACP,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,4BAA4B,OAAON,EAAG,MAAM,CAACE,YAAY,iBAAiBC,MAAM,CAAC,UAAU,uBAAuB,CAACH,EAAG,QAAQ,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,mCAAmCN,EAAG,OAAO,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIW,2BAA2BP,EAAG,MAAM,CAACE,YAAY,iBAAiBC,MAAM,CAAC,UAAU,wBAAwB,CAACH,EAAG,QAAQ,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,sCAAsCN,EAAG,OAAO,CAACJ,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIY,uBAAuBR,EAAG,OAAO,CAACE,YAAY,0BAA0B,CAACN,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,iCAAiC,QAAQV,EAAIa,KAAMb,EAA6B,0BAAEI,EAAG,MAAM,CAACE,YAAY,sCAAsCC,MAAM,CAAC,UAAU,wBAAwB,CAACH,EAAG,QAAQ,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,gCAAgCN,EAAG,OAAO,CAAEJ,EAAiB,cAAEI,EAAG,MAAM,CAACG,MAAM,CAAC,UAAU,0BAA0B,IAAM,EAAQ,QAA8B,IAAMP,EAAIU,GAAG,2CAA2CV,EAAIa,KAAKb,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIc,YAAY,SAASd,EAAIa,MAAM,IACvwCE,EAAkB,G,4GCOD,EAArB,+LAG0B,MACtB,OAAO,eAAQ,UAACd,KAAKe,gBAAN,aAAC,EAAeC,sBAJnC,uCAOsB,MAClB,OAAO,eAAQ,UAAChB,KAAKe,gBAAN,aAAC,EAAeE,2BARnC,iCAWgB,MACZ,OAAO,eAAQ,UAACjB,KAAKe,gBAAN,aAAC,EAAeG,SAZnC,oCAgBI,OAAOlB,KAAKmB,SAA0C,SAA/BnB,KAAKmB,QAAQC,gBAhBxC,0CAmByB,QACrB,OACEpB,KAAKqB,4BAAL,UACArB,KAAKe,gBADL,aACA,EAAeE,0BAC4B,KAA3C,UAAAjB,KAAKe,gBAAL,eAAeE,2BAvBrB,gDA4BI,OAAOK,QAAQtB,KAAKe,YA5BxB,+BAgCI,OAAOf,KAAKmB,QAAQJ,aAhCxB,GAAgE,cACtD,gBAAP,kB,8BADkB,EAAkC,gBADtD,eAAU,CAAEQ,KAAM,wCACE,WCRke,I,wBCQnfC,EAAY,eACd,EACA1B,EACAgB,GACA,EACA,KACA,WACA,MAIa,aAAAU,E,6CCnBf,W,2CCAA,IAAI1B,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAgB,aAAEI,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,iBAAiB,CAACH,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,yBAAyB,CAACH,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,UAAU,CAAEJ,EAAqB,kBAAEI,EAAG,OAAO,CAACE,YAAY,yCAAyCC,MAAM,CAAC,UAAU,0CAA0C,CAACP,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAI0B,mBAAmB,OAAO1B,EAAIa,KAAMb,EAAwB,qBAAEI,EAAG,cAAc,CAACE,YAAY,0CAA0CC,MAAM,CAAC,UAAU,yBAAyB,CAACP,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,uBAAuB,OAAOV,EAAIa,MAAM,GAAIb,EAAyC,sCAAEI,EAAG,MAAM,CAAEJ,EAAI2B,aAAyB,aAAEvB,EAAG,MAAM,CAACE,YAAY,mBAAmBC,MAAM,CAAC,UAAU,yBAAyB,CAACH,EAAG,MAAM,CAACE,YAAY,mBAAmBC,MAAM,CAAC,IAAM,GAAG,IAAM,EAAQ,WAAoCP,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,yBAAyB,OAAOV,EAAIa,OAAOb,EAAIa,KAAKT,EAAG,OAAO,CAACG,MAAM,CAAC,UAAU,qBAAqB,KAAOP,EAAIU,GAAG,qBAAqB,MAAQV,EAAI2B,aAAaC,QAAS5B,EAAyC,sCAAEI,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAAEJ,EAAI6B,wBAAwBC,OAAS,EAAG1B,EAAG,MAAM,CAACE,YAAY,qBAAqBC,MAAM,CAAC,UAAU,wBAAwB,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,KAAOP,EAAIU,GAAG,oBAAoB,MAAQV,EAAI2B,aAAaI,YAAY3B,EAAG,OAAO,CAACG,MAAM,CAAC,KAAOP,EAAIU,GAAG,oBAAoB,MAAQV,EAAI2B,aAAaK,aAAa5B,EAAG,OAAO,CAACG,MAAM,CAAC,KAAOP,EAAIU,GAAG,uBAAuB,MAAQV,EAAI2B,aAAaM,iBAAiB,GAAGjC,EAAIa,KAAKT,EAAG,MAAM,CAACG,MAAM,CAAC,UAAU,2BAA2B,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,UAAU,8BAA8B,KAAOP,EAAIU,GAAG,wBAAwB,MAAQV,EAAI2B,aAAaO,SAASV,QAASxB,EAAI2B,aAAaO,SAAoB,YAAE9B,EAAG,OAAO,CAACG,MAAM,CAAC,UAAU,+BAA+B,KAAOP,EAAIU,GAAG,wBAAwB,MAAQV,EAAImC,OAAOnC,EAAI2B,aAAaO,SAASE,gBAAgBpC,EAAIa,KAAMb,EAAIqC,eAAiBrC,EAAI2B,aAAaW,gBAAiBlC,EAAG,OAAO,CAACG,MAAM,CAAC,KAAOP,EAAIU,GAAG,0BAA0B,MAAQV,EAAI2B,aAAaW,gBAAgBC,SAASvC,EAAIa,KAAMb,EAAI2B,aAAaO,SAAc,MAAE9B,EAAG,OAAO,CAACG,MAAM,CAAC,UAAU,+BAA+B,KAAOP,EAAIU,GAAG,gBAAgB,MAAQV,EAAI2B,aAAaO,SAASM,SAASxC,EAAIa,MAAM,OAAOb,EAAIa,MAAM,KAAKT,EAAG,MAAM,CAACE,YAAY,SAAS,CAAEN,EAAI2B,aAAac,aAAezC,EAAI2B,aAAae,MAAOtC,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACN,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,gCAAgC,OAAQV,EAAI2B,aAAwB,YAAEvB,EAAG,OAAO,CAACG,MAAM,CAAC,KAAOP,EAAIU,GAAG,sBAAsB,MAAQV,EAAI2B,aAAac,eAAezC,EAAIa,KAAMb,EAAI2B,aAAkB,MAAEvB,EAAG,OAAO,CAACG,MAAM,CAAC,KAAOP,EAAIU,GAAG,eAAe,MAAQV,EAAI2B,aAAae,SAAS1C,EAAIa,KAAMb,EAAI2B,aAAgC,oBAAEvB,EAAG,OAAO,CAACG,MAAM,CAAC,KAAOP,EAAIU,GAAG,yBAAyB,MAAQV,EAAI2B,aAAagB,oBACvhG,KACA3C,EAAI2B,aAAaiB,oBACjB,KACA5C,EAAI2B,aAAakB,kBACjB,MACA7C,EAAI2B,aAAamB,sBAAsB9C,EAAIa,MAAM,GAAGb,EAAIa,KAAKT,EAAG,oCAAoC,CAACG,MAAM,CAAC,QAAUP,EAAI2B,gBAAgBvB,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,cAAeN,EAAI2B,aAAqB,SAAEvB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAAEN,EAAiC,8BAAEI,EAAG,MAAM,CAACA,EAAG,OAAO,CAACE,YAAY,0BAA0BC,MAAM,CAAC,UAAU,yBAAyB,CAACP,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,4BAA4B,OAAON,EAAG,OAAO,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAI2B,aAAaoB,0BAA0B/C,EAAIa,KAAKb,EAAIgD,GAAIhD,EAAI2B,aAAaX,SAAuB,gBAAE,SAASiC,GAAS,OAAO7C,EAAG,qBAAqB,CAAC8C,IAAID,EAAQE,GAAG5C,MAAM,CAAC,aAAY,EAAK,QAAU0C,EAAQ,kBAAkBjD,EAAIoD,KAAKC,eAAe,UAAYrD,EAAIoD,KAAKC,eAAe,kCAAiC,EAAM,UAAU,+BAA8B,GAAGjD,EAAG,cAAc,CAACkD,WAAW,CAAC,CAAC9B,KAAK,UAAU+B,QAAQ,YAAYC,OAAM,EAAOC,WAAW,SAASlD,MAAM,CAAC,cAAa,EAAK,KAAO,aAAaH,EAAG,MAAM,CAACE,YAAY,cAAeN,EAAiB,cAAEI,EAAG,8CAA8C,CAACG,MAAM,CAAC,QAAUP,EAAI2B,aAAa,UAAU,yCAAyCvB,EAAG,yCAAyC,CAACG,MAAM,CAAC,QAAUP,EAAI2B,aAAa,UAAU,qCAAqC,GAAI3B,EAAI2B,aAAoB,QAAEvB,EAAG,MAAM,CAACE,YAAY,cAAcN,EAAIa,KAAMb,EAAI2B,aAAoB,QAAEvB,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,eAAeC,MAAM,CAAC,UAAU,yBAAyB,CAACH,EAAG,MAAM,CAACE,YAAY,kBAAkBC,MAAM,CAAC,IAAMP,EAAI0D,qBAAqB,IAAM,2BAA2BtD,EAAG,MAAM,CAACA,EAAG,OAAO,CAACG,MAAM,CAAC,KAAOP,EAAIU,GAAG,sBAAsB,MAAQV,EAAI2B,aAAagC,QAAQnC,QAASxB,EAAI2B,aAAagC,QAAmB,YAAEvD,EAAG,OAAO,CAACG,MAAM,CAAC,KAAOP,EAAIU,GAAG,uBAAuB,MAAQV,EAAI2B,aAAagC,QAAQvB,eAAepC,EAAIa,KAAMb,EAAiC,8BAAEI,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,YAAY,CAACE,YAAY,wBAAwBC,MAAM,CAAC,KAAOP,EAAIU,GAAG,iCAAiC,MAAO,EAAK,KAAO,oBAAoB,UAAU,yBAAyBkD,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAO7D,EAAI8D,gCAAgC,GAAG9D,EAAIa,MAAM,OAAOb,EAAIa,MAAM,GAAIb,EAA+B,4BAAEI,EAAG,uBAAuB,CAACG,MAAM,CAAC,gBAAgBP,EAAI2B,aAAa,WAAW3B,EAAI2B,aAAawB,GAAG,mBAAmBnD,EAAI2B,aAAaoC,eAAe,UAAU,kBAAkBC,GAAG,CAAC,MAAQhE,EAAIiE,4BAA4BjE,EAAIa,MAAM,KAAKb,EAAIa,MAC7+EE,EAAkB,G,kUCuCD,EAArB,yG,0BACU,EAAAmD,6BAA8B,EADxC,4EA2CIjE,KAAKiE,6BAA8B,IA3CvC,iDA+CIjE,KAAKiE,6BAA8B,IA/CvC,2CAmDI,OAAOjE,KAAK0B,aAAL,8EAED1B,KAAK0B,aAAagC,QAAU1D,KAAK0B,aAAagC,QAAQQ,QAAU,IAElE,KAvDR,2BAgBI,OAAOC,EAAA,KAAKC,MAAMpE,KAAKqE,YAAc,MAhBzC,oCAoBI,OAAOC,EAAA,KAAalC,cAAcpC,KAAK0B,gBApB3C,4DAwBI,OAAQ1B,KAAKmD,KAAKoB,SAAWvE,KAAK0B,cAAgB1B,KAAK0B,aAAaO,WAxBxE,oDA4BI,QACIjC,KAAK0B,cACP4C,EAAA,KAAaE,uBAAuBxE,KAAK0B,gBA9B/C,oDAmCI,QACI1B,KAAKyE,gBACPzE,KAAK0B,eACJ1B,KAAKyE,eAAeC,SAAS1E,KAAK0B,aAAawB,MAtCtD,2CA2DI,OAAOlD,KAAK0B,aAAaiD,uBA3D7B,wCA8DuB,QACnB,OAAOC,EAAA,KAAMC,aAAa,CACxBlD,KAAM3B,KAAK0B,aAAaC,KACxBmD,WAAU,UAAE9E,KAAK0B,aAAaoD,kBAApB,QAAkC,GAC5CC,kBAAiB,UAAE/E,KAAK0B,aAAaqD,yBAApB,QAAyC,GAC1DC,gBAAiBhF,KAAKiF,0BACpBjF,KAAK0B,aAAaoC,sBApE1B,GAAiD,cAGhB,gBAA9B,eAAO,wB,mCACA,gBAAP,Q,qCAGD,gBADC,OAAeoB,OAAO,S,8CAIvB,gBADC,OAAeA,OAAO,S,iCAIvB,gBADC,OAAgBA,OAAO,S,gDAZL,EAAmB,gBAfvC,eAAU,CACT3D,KAAM,sBACN4D,WAAY,CACVC,iCAAA,WACAC,0CAAA,WACAC,qCAAA,WACAC,mBAAA,KACAC,qBAAA,KACAC,WAAA,KACAC,OAAA,KACAC,OAAA,KACAC,cAAA,KACAC,aAAA,SAGiB,WC9C+a,I,wBCQhcrE,EAAY,eACd,EACA1B,EACAgB,GACA,EACA,KACA,WACA,MAIa,aAAAU,E,2CCnBf,W,oCCAA,W,yCCAA,IAAI1B,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACN,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,4BAA4B,OAAON,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,QAAQ,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,kCAAkCN,EAAG,SAAS,CAACJ,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAI+F,GAAG,WAAP/F,CAAmBA,EAAIiB,qBAAqB,SAASb,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,wCAAwCN,EAAG,SAAS,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAI+F,GAAG,WAAP/F,CAAmBA,EAAIgG,0BAA0B5F,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,iCAAiCN,EAAG,SAAS,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAI+F,GAAG,WAAP/F,CAAmBA,EAAIiG,mBAAmB7F,EAAG,MAAM,CAACE,YAAY,2CAA2C,CAACF,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACF,EAAG,QAAQ,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,+BAA+BN,EAAG,SAAS,CAAEJ,EAAkB,eAAEI,EAAG,OAAO,CAACE,YAAY,kCAAkC,CAACN,EAAIQ,GAAG,OAAOR,EAAIa,KAAKb,EAAIQ,GAAGR,EAAIS,GAAGT,EAAI+F,GAAG,WAAP/F,CAAmBA,EAAIkG,wBAAwB9F,EAAG,MAAM,CAACE,YAAY,cAAcF,EAAG,MAAM,CAACE,YAAY,6CAA6CC,MAAM,CAAC,UAAU,wBAAwB,CAACH,EAAG,QAAQ,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,gCAAgCN,EAAG,SAAS,CAAEJ,EAAiB,cAAEI,EAAG,MAAM,CAACG,MAAM,CAAC,UAAU,0BAA0B,IAAM,EAAQ,QAA8B,IAAMP,EAAIU,GAAG,2CAA2CV,EAAIa,KAAKb,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAI+F,GAAG,WAAP/F,CAAmBA,EAAIc,kBAAmBd,EAAwB,qBAAEI,EAAG,OAAO,CAACE,YAAY,gCAAgC,CAACN,EAAIQ,GAAG,KAAKR,EAAIS,GAAGT,EAAIU,GAAG,8BAA+B,CAAEyF,OAAQnG,EAAIoG,mBAAoB,QAAQpG,EAAIa,KAAMb,EAAyB,sBAAEI,EAAG,OAAO,CAACE,YAAY,gCAAgC,CAACN,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,0BAA0BV,EAAIa,QACr7DE,EAAkB,G,wECMtB,GACES,KAAM,0CACN6E,MAAO,CACLjF,QAAS,CACPkF,KAAMC,OACNC,QAAS,WAAf,OACA,cACA,qBACA,UACA,SAEA,iBACA,+BACA,qBAIEC,SAAU,OAAZ,OAAY,CAAZ,kBACA,2CADA,IAEIrD,KAFJ,WAGM,OAAOgB,EAAb,8BAEItD,WALJ,WAMM,OAAKb,KAAKmB,SAAYnB,KAAKmB,QAAQJ,SAG5B,IAAI,EAAjB,wCACA,qCACA,sCAJe,GAMXC,mBAbJ,WAcM,OAAKhB,KAAKmB,SAAYnB,KAAKmB,QAAQJ,UAG5Bf,KAAKmB,QAAQJ,SAASG,OAFpB,GAIX6E,mBAnBJ,WAoBM,OAAO,KAAb,6CAEIC,YAtBJ,WAuBM,OAAO,IAAI,EAAjB,4DACA,0BAGIC,eA3BJ,WA4BM,OAAO,KAAb,yCAEIQ,eA9BJ,WA+BM,OAAOzG,KAAKiG,eAAiB,GAE/BS,qBAjCJ,WAkCM,OAAO,KAAb,uDAEIC,cApCJ,WAqCM,OAAO3G,KAAKmB,SAA0C,SAA/BnB,KAAKmB,QAAQC,eAEtCwF,wBAvCJ,WAwCM,OAAItC,EAAV,kCAGWA,EAAX,iCAGUtE,KAAKmD,KAAKoB,SAGPvE,KAAKmD,KAAK0D,6BAEnBC,sBAnDJ,WAoDM,QAAK9G,KAAKmB,WAGFnB,KAAK4G,0BAA4B5G,KAAKmD,KAAKoB,UAErD4B,gBAzDJ,WA0DM,OAAOnG,KAAK+G,eAAe/G,KAAKmB,QAAQ6F,8BAG5CC,QAAS,CACPF,eADJ,SACA,GACM,OAAO/G,KAAKkH,SAASC,QAAQ,YAAY5D,MCvFgb,I,wBCQ3d/B,EAAY,eACd,EACA1B,EACAgB,GACA,EACA,KACA,WACA,MAIa,aAAAU,E","file":"js/view-HistoryOrderDetails-vue.b9b512b0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"order-breakdown-summary\"},[(_vm.hasProductDiscounts)?[_c('div',{staticClass:\"summary-title\",attrs:{\"data-qa\":\"breakdown-title\"}},[_vm._v(\" \"+_vm._s(_vm.$t('order.summary.breakdown'))+\" \")]),_c('div',{staticClass:\"summary-detail\",attrs:{\"data-qa\":\"breakdown-products\"}},[_c('label',[_vm._v(_vm._s(_vm.$t('order.summary.productsPrice')))]),_c('span',[_vm._v(_vm._s(_vm.totalPriceOfProducts))])]),_c('div',{staticClass:\"summary-detail\",attrs:{\"data-qa\":\"breakdown-discounts\"}},[_c('label',[_vm._v(_vm._s(_vm.$t('order.summary.productDiscounts')))]),_c('span',[_vm._v(\"-\"+_vm._s(_vm.productDiscounts))])]),_c('span',{staticClass:\"summary-detail-subtext\"},[_vm._v(\" \"+_vm._s(_vm.$t('order.summary.assumedByStore'))+\" \")])]:_vm._e(),(_vm.haveProductsBeenRetrieved)?_c('div',{staticClass:\"summary-detail summary-detail-total\",attrs:{\"data-qa\":\"order-details-total\"}},[_c('label',[_vm._v(_vm._s(_vm.$t('order.summary.totalPrice')))]),_c('span',[(_vm.isCashPayment)?_c('img',{attrs:{\"data-qa\":\"order-details-cash-icon\",\"src\":require(\"assets/images/banknote.svg\"),\"alt\":_vm.$t('order.messages.customer.payment.CASH')}}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.totalPrice)+\" \")])]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Component from 'vue-class-component'\nimport Vue from 'vue'\nimport { Prop } from 'vue-property-decorator'\nimport { currency } from '@/modules/core/filters'\nimport { HistoryOrder } from '@/modules/store/data/resources'\n\n@Component({ name: 'HistoryNormalOrderBreakdownSummary' })\nexport default class HistoryNormalOrderBreakdownSummary extends Vue {\n  @Prop() details!: HistoryOrder\n\n  get totalPriceOfProducts() {\n    return currency(this.products?.totalProductsPrice)\n  }\n\n  get productDiscounts() {\n    return currency(this.products?.partnerProductDiscounts)\n  }\n\n  get totalPrice() {\n    return currency(this.products?.total)\n  }\n\n  get isCashPayment() {\n    return this.details && this.details.paymentMethod === 'CASH'\n  }\n\n  get hasProductDiscounts() {\n    return (\n      this.haveProductsBeenRetrieved &&\n      this.products?.partnerProductDiscounts &&\n      this.products?.partnerProductDiscounts !== 0\n    )\n  }\n\n  get haveProductsBeenRetrieved() {\n    return Boolean(this.products)\n  }\n\n  get products() {\n    return this.details.products\n  }\n}\n","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryNormalOrderBreakdownSummary.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryNormalOrderBreakdownSummary.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HistoryNormalOrderBreakdownSummary.vue?vue&type=template&id=4ba529ef&scoped=true&\"\nimport script from \"./HistoryNormalOrderBreakdownSummary.vue?vue&type=script&lang=ts&\"\nexport * from \"./HistoryNormalOrderBreakdownSummary.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./HistoryNormalOrderBreakdownSummary.vue?vue&type=style&index=0&id=4ba529ef&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ba529ef\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryMarketplaceOrderBreakdownSummary.vue?vue&type=style&index=0&id=5f70698c&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.orderDetails)?_c('div',{attrs:{\"id\":\"orderDetails\"}},[_c('div',{attrs:{\"id\":\"orderDetails_wrapper\"}},[_c('div',{staticClass:\"order-details-information\"},[_c('div',{staticClass:\"order-details-information-primary\"},[_c('section',[(_vm.displayPickupCode)?_c('span',{staticClass:\"order-details-information__pickup-code\",attrs:{\"data-qa\":\"order-details-information-pickup-code\"}},[_vm._v(\" \"+_vm._s(_vm.displayPickupCode)+\" \")]):_vm._e(),(_vm.isPickedUpByCustomer)?_c('glovo-badge',{staticClass:\"order-details-information__pickup-badge\",attrs:{\"data-qa\":\"order-details-pickup\"}},[_vm._v(\" \"+_vm._s(_vm.$t('order.badge.pickup'))+\" \")]):_vm._e()],1),(_vm.shouldShowCustomerAndStoreInformation)?_c('div',[(_vm.orderDetails.isFirstOrder)?_c('div',{staticClass:\"first_order_text\",attrs:{\"data-qa\":\"customer-first-order\"}},[_c('img',{staticClass:\"first_order_icon\",attrs:{\"alt\":\"\",\"src\":require(\"assets/images/first-order.svg\")}}),_vm._v(\" \"+_vm._s(_vm.$t('customer.first.order'))+\" \")]):_vm._e()]):_vm._e(),_c('pair',{attrs:{\"data-qa\":\"order-details-code\",\"left\":_vm.$t('ticket.order.code'),\"right\":_vm.orderDetails.code}}),(_vm.shouldShowCustomerAndStoreInformation)?_c('div',{staticClass:\"order_header\"},[_c('div',[(_vm.availableStoreAddresses.length > 1)?_c('div',{staticClass:\"order_store-detail\",attrs:{\"data-qa\":\"order-store-details\"}},[_c('pair',{attrs:{\"left\":_vm.$t('order.store.city'),\"right\":_vm.orderDetails.cityName}}),_c('pair',{attrs:{\"left\":_vm.$t('order.store.name'),\"right\":_vm.orderDetails.storeName}}),_c('pair',{attrs:{\"left\":_vm.$t('order.store.address'),\"right\":_vm.orderDetails.storeAddress}})],1):_vm._e(),_c('div',{attrs:{\"data-qa\":\"order-customer-details\"}},[_c('pair',{attrs:{\"data-qa\":\"order-details-customer-name\",\"left\":_vm.$t('order.customer.title'),\"right\":_vm.orderDetails.customer.name}}),(_vm.orderDetails.customer.phoneNumber)?_c('pair',{attrs:{\"data-qa\":\"order-details-customer-phone\",\"left\":_vm.$t('order.customer.phone'),\"right\":_vm.$phone(_vm.orderDetails.customer.phoneNumber)}}):_vm._e(),(_vm.isMarketplace && _vm.orderDetails.deliveryAddress)?_c('pair',{attrs:{\"left\":_vm.$t('order.customer.address'),\"right\":_vm.orderDetails.deliveryAddress.label}}):_vm._e(),(_vm.orderDetails.customer.email)?_c('pair',{attrs:{\"data-qa\":\"order-details-customer-email\",\"left\":_vm.$t('common.email'),\"right\":_vm.orderDetails.customer.email}}):_vm._e()],1)])]):_vm._e()],1)]),_c('div',{staticClass:\"order\"},[(_vm.orderDetails.companyName || _vm.orderDetails.taxId)?_c('div',{staticClass:\"order_messages\"},[_c('div',{staticClass:\"order_description_title\"},[_vm._v(\" \"+_vm._s(_vm.$t('order.company.invoice.title'))+\" \")]),(_vm.orderDetails.companyName)?_c('pair',{attrs:{\"left\":_vm.$t('order.company.name'),\"right\":_vm.orderDetails.companyName}}):_vm._e(),(_vm.orderDetails.taxId)?_c('pair',{attrs:{\"left\":_vm.$t('order.taxId'),\"right\":_vm.orderDetails.taxId}}):_vm._e(),(_vm.orderDetails.companyAddressLine1)?_c('pair',{attrs:{\"left\":_vm.$t('order.company.address'),\"right\":_vm.orderDetails.companyAddressLine1 +\n            ', ' +\n            _vm.orderDetails.companyAddressLine2 +\n            '. ' +\n            _vm.orderDetails.companyPostalCode +\n            ' - ' +\n            _vm.orderDetails.companyAddressCity}}):_vm._e()],1):_vm._e(),_c('history-order-details-description',{attrs:{\"details\":_vm.orderDetails}}),_c('div',[_c('div',{staticClass:\"separator\"}),(_vm.orderDetails.products)?_c('div',{staticClass:\"order_products\"},[(_vm.shouldShowOriginalDescription)?_c('div',[_c('span',{staticClass:\"order_description_title\",attrs:{\"data-qa\":\"original-description\"}},[_vm._v(_vm._s(_vm.$t('order.description.title'))+\":\")]),_c('span',[_vm._v(_vm._s(_vm.orderDetails.originalDescription))])]):_vm._e(),_vm._l((_vm.orderDetails.products.servedProducts),function(product){return _c('order-product-item',{key:product.id,attrs:{\"read-only\":true,\"product\":product,\"disable-checks\":!_vm.user.isSuperGlovo(),\"warnings\":!_vm.user.isSuperGlovo(),\"should-show-groceries-checkbox\":false,\"data-qa\":\"order-details-product\"}})})],2):_c('placeholder',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(true),expression:\"true\"}],attrs:{\"full-width\":true,\"name\":\"product\"}}),_c('div',{staticClass:\"separator\"}),(_vm.isMarketplace)?_c('history-marketplace-order-breakdown-summary',{attrs:{\"details\":_vm.orderDetails,\"data-qa\":\"history-marketplace-order-breakdown\"}}):_c('history-normal-order-breakdown-summary',{attrs:{\"details\":_vm.orderDetails,\"data-qa\":\"history-normal-order-breakdown\"}})],1),(_vm.orderDetails.courier)?_c('div',{staticClass:\"separator\"}):_vm._e(),(_vm.orderDetails.courier)?_c('div',{staticClass:\"order_courier\"},[_c('div',{staticClass:\"courier-view\",attrs:{\"data-qa\":\"courier-info-details\"}},[_c('img',{staticClass:\"courier-picture\",attrs:{\"src\":_vm.getCourierImageUrl(),\"alt\":\"courier profile photo\"}}),_c('div',[_c('pair',{attrs:{\"left\":_vm.$t('order.courier.name'),\"right\":_vm.orderDetails.courier.name}}),(_vm.orderDetails.courier.phoneNumber)?_c('pair',{attrs:{\"left\":_vm.$t('order.courier.phone'),\"right\":_vm.orderDetails.courier.phoneNumber}}):_vm._e(),(_vm.shouldShowReportCourierButton)?_c('div',{staticClass:\"report-courier\"},[_c('glovo-btn',{staticClass:\"report-courier_button\",attrs:{\"text\":_vm.$t('order.courier.reporting.title'),\"bold\":true,\"type\":\"transparent-green\",\"data-qa\":\"report-courier-button\"},nativeOn:{\"click\":function($event){return _vm.showCourierReportOverlay()}}})],1):_vm._e()],1)])]):_vm._e()],1),(_vm.courierReportOverlayVisible)?_c('report-courier-popup',{attrs:{\"order-details\":_vm.orderDetails,\"order-id\":_vm.orderDetails.id,\"store-address-id\":_vm.orderDetails.storeAddressId,\"data-qa\":\"report-courier\"},on:{\"close\":_vm.hideCourierReportOverlay}}):_vm._e()],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from 'vue'\nimport OrderProductItem from '@/modules/orders/components/details/product/OrderProductItem.vue'\nimport HistoryOrder from 'models/HistoryOrder'\nimport Icon from 'common/Icon.vue'\nimport Pair from 'common/Pair.vue'\nimport HistoryMarketplaceOrderBreakdownSummary from '@/components/main/content/reports/history-order-details/breakdown-summary/HistoryMarketplaceOrderBreakdownSummary.vue'\nimport HistoryNormalOrderBreakdownSummary from '@/components/main/content/reports/history-order-details/breakdown-summary/HistoryNormalOrderBreakdownSummary.vue'\nimport HistoryOrderDetailsDescription from '@/components/main/content/reports/history-order-details/HistoryOrderDetailsDescription.vue'\nimport ReportCourierPopup from '@/components/common/ReportCourierPopup.vue'\nimport GlovoBtn from '@/components/common/GlovoBtn.vue'\nimport Component from 'vue-class-component'\nimport { Getter } from 'vuex-class'\nimport User from 'models/User'\nimport {\n  HistoryOrder as HistoryOrderInterface,\n  StoreAddressId,\n  StoreAdmin\n} from '@/modules/store/data/resources'\nimport { OrderId } from '@/modules/store'\nimport {\n  GET_AVAILABLE_STORE_ADDRESS_IDS_GETTER,\n  GET_CURRENT_STORE_ADMIN_GETTER\n} from '@/modules/authentication'\nimport Placeholder from 'common/Placeholder.vue'\nimport { authentication } from '@/modules/authentication/store/namespace'\nimport Order from 'models/Order'\nimport { orderManagement } from '@/modules/orders/store/namespace'\nimport { GET_IS_KITCHEN_CODE_STORE_ADDRESS_GETTER } from '@/modules/orders/store/getters'\nimport GlovoBadge from 'common/ui/GlovoBadge.vue'\n\n@Component({\n  name: 'HistoryOrderDetails',\n  components: {\n    HistoryOrderDetailsDescription,\n    HistoryMarketplaceOrderBreakdownSummary,\n    HistoryNormalOrderBreakdownSummary,\n    OrderProductItem,\n    ReportCourierPopup,\n    GlovoBtn,\n    Pair,\n    Icon,\n    Placeholder,\n    GlovoBadge\n  }\n})\nexport default class HistoryOrderDetails extends Vue {\n  private courierReportOverlayVisible = false\n\n  @Getter('historyOrderDetails') orderDetails!: HistoryOrderInterface\n  @Getter reportedOrders?: OrderId[]\n\n  @authentication.Getter(GET_AVAILABLE_STORE_ADDRESS_IDS_GETTER)\n  availableStoreAddresses!: StoreAddressId[]\n\n  @authentication.Getter(GET_CURRENT_STORE_ADMIN_GETTER)\n  storeAdmin!: StoreAdmin | null\n\n  @orderManagement.Getter(GET_IS_KITCHEN_CODE_STORE_ADDRESS_GETTER)\n  isKitchenCodeStoreAddress!: (id: StoreAddressId) => boolean\n\n  get user(): User {\n    return User.parse(this.storeAdmin || {})\n  }\n\n  get isMarketplace() {\n    return HistoryOrder.isMarketplace(this.orderDetails)\n  }\n\n  get shouldShowCustomerAndStoreInformation() {\n    return !this.user.isMCD() && this.orderDetails && this.orderDetails.customer\n  }\n\n  get shouldShowOriginalDescription() {\n    return (\n      !!this.orderDetails &&\n      HistoryOrder.hasOriginalDescription(this.orderDetails)\n    )\n  }\n\n  get shouldShowReportCourierButton() {\n    return (\n      !!this.reportedOrders &&\n      this.orderDetails &&\n      !this.reportedOrders.includes(this.orderDetails.id)\n    )\n  }\n\n  showCourierReportOverlay() {\n    this.courierReportOverlayVisible = true\n  }\n\n  hideCourierReportOverlay() {\n    this.courierReportOverlayVisible = false\n  }\n\n  getCourierImageUrl() {\n    return this.orderDetails\n      ? `https://res.cloudinary.com/glovoapp/image/upload/c_fill,h_160,w_160/${\n          this.orderDetails.courier ? this.orderDetails.courier.picture : ''\n        }`\n      : ''\n  }\n\n  get isPickedUpByCustomer() {\n    return this.orderDetails.isPickedUpByCustomer\n  }\n\n  get displayPickupCode() {\n    return Order.getShortCode({\n      code: this.orderDetails.code,\n      pickupCode: this.orderDetails.pickupCode ?? '',\n      storeTrackingCode: this.orderDetails.storeTrackingCode ?? '',\n      usesKitchenCode: this.isKitchenCodeStoreAddress(\n        this.orderDetails.storeAddressId\n      )\n    })\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryOrderDetails.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryOrderDetails.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HistoryOrderDetails.vue?vue&type=template&id=590823be&scoped=true&\"\nimport script from \"./HistoryOrderDetails.vue?vue&type=script&lang=ts&\"\nexport * from \"./HistoryOrderDetails.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./HistoryOrderDetails.vue?vue&type=style&index=0&id=590823be&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"590823be\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryOrderDetails.vue?vue&type=style&index=0&id=590823be&lang=scss&scoped=true&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryNormalOrderBreakdownSummary.vue?vue&type=style&index=0&id=4ba529ef&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"order-breakdown-summary\"},[_c('div',{staticClass:\"summary-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('order.summary.breakdown'))+\" \")]),_c('div',{staticClass:\"summary-detail highlighted strong\"},[_c('label',[_vm._v(_vm._s(_vm.$t('order.summary.productPrice')))]),_c('strong',[_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(_vm.totalProductsPrice))+\" \")])]),_c('div',{staticClass:\"summary-detail\"},[_c('label',[_vm._v(_vm._s(_vm.$t('order.summary.minBasketSurcharge')))]),_c('strong',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.minBasketSurcharge)))])]),_c('div',{staticClass:\"summary-detail\"},[_c('label',[_vm._v(_vm._s(_vm.$t('order.summary.deliveryFee')))]),_c('strong',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.deliveryFee)))])]),_c('div',{staticClass:\"summary-detail summary-detail-discounts\"},[_c('div',{staticClass:\"summary-detail-discounts-amount\"},[_c('label',[_vm._v(_vm._s(_vm.$t('order.summary.discounts')))]),_c('strong',[(_vm.discountsExist)?_c('span',{staticClass:\"summary-detail-discounts-minus\"},[_vm._v(\"-\")]):_vm._e(),_vm._v(_vm._s(_vm._f(\"currency\")(_vm.discountsTotal)))])])]),_c('div',{staticClass:\"separator\"}),_c('div',{staticClass:\"summary-detail strong summary-detail-total\",attrs:{\"data-qa\":\"order-details-total\"}},[_c('label',[_vm._v(_vm._s(_vm.$t('order.summary.totalPrice')))]),_c('strong',[(_vm.isCashPayment)?_c('img',{attrs:{\"data-qa\":\"order-details-cash-icon\",\"src\":require(\"assets/images/banknote.svg\"),\"alt\":_vm.$t('order.messages.customer.payment.CASH')}}):_vm._e(),_vm._v(\" \"+_vm._s(_vm._f(\"currency\")(_vm.totalPrice)))])]),(_vm.isCustomerCashAmount)?_c('span',{staticClass:\"summary-detail-customer-text\"},[_vm._v(\" (\"+_vm._s(_vm.$t('order.summary.customer.cash', { amount: _vm.formattedAmount }))+\") \")]):_vm._e(),(_vm.showEstimatePriceHint)?_c('span',{staticClass:\"order-breakdown-summary-hint\"},[_vm._v(_vm._s(_vm.$t('order.summary.hint')))]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { Decimal } from 'decimal.js'\nimport { mapGetters } from 'vuex'\nimport HistoryOrder from 'models/HistoryOrder'\nimport User from 'models/User'\nimport { GET_CURRENT_STORE_ADMIN_GETTER } from '@/modules/authentication'\n\nexport default {\n  name: 'HistoryMarketplaceOrderBreakdownSummary',\n  props: {\n    details: {\n      type: Object,\n      default: () => ({\n        deliveryFee: 0,\n        minBasketSurcharge: 0,\n        products: {\n          total: 0\n        },\n        discountsTotal: 0,\n        customerCashPaymentAmount: null,\n        paymentMethod: ''\n      })\n    }\n  },\n  computed: {\n    ...mapGetters('authentication', [GET_CURRENT_STORE_ADMIN_GETTER]),\n    user() {\n      return User.parse(this[GET_CURRENT_STORE_ADMIN_GETTER] || {})\n    },\n    totalPrice() {\n      if (!this.details || !this.details.products) {\n        return 0\n      }\n      return new Decimal(this.details.deliveryFee || 0)\n        .plus(this.details.products.total || 0)\n        .minus(this.details.discountsTotal || 0)\n    },\n    totalProductsPrice() {\n      if (!this.details || !this.details.products) {\n        return 0\n      }\n      return this.details.products.total || 0\n    },\n    minBasketSurcharge() {\n      return (this.details && this.details.minBasketSurcharge) || 0\n    },\n    deliveryFee() {\n      return new Decimal((this.details && this.details.deliveryFee) || 0).minus(\n        this.minBasketSurcharge\n      )\n    },\n    discountsTotal() {\n      return (this.details && this.details.discountsTotal) || 0\n    },\n    discountsExist() {\n      return this.discountsTotal > 0\n    },\n    isCustomerCashAmount() {\n      return (this.details && this.details.customerCashPaymentAmount) || null\n    },\n    isCashPayment() {\n      return this.details && this.details.paymentMethod === 'CASH'\n    },\n    shouldSeeOrderBreakdown() {\n      if (HistoryOrder.isFinished(this.details)) {\n        return false\n      }\n      if (!HistoryOrder.isAccepted(this.details)) {\n        return false\n      }\n      if (this.user.isMCD()) {\n        return false\n      }\n      return this.user.isAllowedToManageOrders()\n    },\n    showEstimatePriceHint() {\n      if (!this.details) {\n        return false\n      }\n      return !this.shouldSeeOrderBreakdown && !this.user.isMCD()\n    },\n    formattedAmount() {\n      return this.formatCurrency(this.details.customerCashPaymentAmount)\n    }\n  },\n  methods: {\n    formatCurrency(value) {\n      return this.$options.filters['currency'](value)\n    }\n  }\n}\n</script>\n\n<template>\n  <div class=\"order-breakdown-summary\">\n    <div class=\"summary-title\">\n      {{ $t('order.summary.breakdown') }}\n    </div>\n    <div class=\"summary-detail highlighted strong\">\n      <label>{{ $t('order.summary.productPrice') }}</label>\n      <strong>\n        {{ totalProductsPrice | currency }}\n      </strong>\n    </div>\n    <div class=\"summary-detail\">\n      <label>{{ $t('order.summary.minBasketSurcharge') }}</label>\n      <strong>{{ minBasketSurcharge | currency }}</strong>\n    </div>\n    <div class=\"summary-detail\">\n      <label>{{ $t('order.summary.deliveryFee') }}</label>\n      <strong>{{ deliveryFee | currency }}</strong>\n    </div>\n    <div class=\"summary-detail summary-detail-discounts\">\n      <div class=\"summary-detail-discounts-amount\">\n        <label>{{ $t('order.summary.discounts') }}</label>\n        <strong\n          ><span v-if=\"discountsExist\" class=\"summary-detail-discounts-minus\"\n            >-</span\n          >{{ discountsTotal | currency }}</strong\n        >\n      </div>\n    </div>\n    <div class=\"separator\"></div>\n    <div\n      data-qa=\"order-details-total\"\n      class=\"summary-detail strong summary-detail-total\"\n    >\n      <label>{{ $t('order.summary.totalPrice') }}</label>\n      <strong>\n        <img\n          v-if=\"isCashPayment\"\n          data-qa=\"order-details-cash-icon\"\n          src=\"~assets/images/banknote.svg\"\n          :alt=\"$t('order.messages.customer.payment.CASH')\"\n        />\n        {{ totalPrice | currency }}</strong\n      >\n    </div>\n    <span v-if=\"isCustomerCashAmount\" class=\"summary-detail-customer-text\">\n      ({{\n        $t('order.summary.customer.cash', {\n          amount: formattedAmount\n        })\n      }})\n    </span>\n    <span v-if=\"showEstimatePriceHint\" class=\"order-breakdown-summary-hint\">{{\n      $t('order.summary.hint')\n    }}</span>\n  </div>\n</template>\n<style scoped lang=\"scss\">\n.order-breakdown-summary {\n  display: flex;\n  flex-direction: column;\n\n  & .summary-title {\n    font-size: 20px;\n    margin-bottom: 10px;\n    font-family: Gotham-Medium, sans-serif;\n  }\n\n  & .summary-detail {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    line-height: 32px;\n    font-size: 18px;\n\n    &-discounts {\n      display: flex;\n      flex-direction: column;\n\n      &-amount {\n        display: flex;\n        justify-content: space-between;\n      }\n    }\n\n    &-total {\n      line-height: 22px;\n    }\n\n    &-customer-text {\n      display: flex;\n      justify-content: flex-end;\n      font-size: 14px;\n    }\n\n    img {\n      vertical-align: middle;\n    }\n\n    strong {\n      font-weight: normal;\n    }\n\n    &.highlighted {\n      strong,\n      label {\n        color: #ffc244;\n      }\n    }\n\n    &.strong {\n      strong,\n      label {\n        font-weight: 700;\n      }\n    }\n  }\n\n  &-price {\n    font-size: 22px;\n  }\n\n  &-hint {\n    margin-top: 8px;\n    font-size: 12px;\n    align-self: flex-end;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryMarketplaceOrderBreakdownSummary.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryMarketplaceOrderBreakdownSummary.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HistoryMarketplaceOrderBreakdownSummary.vue?vue&type=template&id=5f70698c&scoped=true&\"\nimport script from \"./HistoryMarketplaceOrderBreakdownSummary.vue?vue&type=script&lang=js&\"\nexport * from \"./HistoryMarketplaceOrderBreakdownSummary.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HistoryMarketplaceOrderBreakdownSummary.vue?vue&type=style&index=0&id=5f70698c&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f70698c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}