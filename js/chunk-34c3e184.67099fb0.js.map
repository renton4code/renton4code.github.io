{"version":3,"sources":["webpack:///./src/modules/store-management/components/StoreClosing.vue?6e7f","webpack:///./src/modules/analytics/types/ScaocOptions.ts","webpack:///./src/modules/store-management/components/StoreClosingWarningModal.vue?14e7","webpack:///./src/modules/store-management/components/StoreClosingWarningModal.vue","webpack:///./src/modules/store-management/constants/ClosingReasonOptionName.ts","webpack:///./src/modules/store-management/constants/ClosedUntilOptionValue.ts","webpack:///./src/modules/store-management/components/StoreClosingWarningModal.vue?1fe0","webpack:///./src/modules/store-management/components/StoreClosingWarningModal.vue?6d8b","webpack:///./src/modules/store-management/constants/style.ts","webpack:///./src/modules/store-management/components/StoreClosing.vue","webpack:///./src/modules/store-management/components/StoreClosing.vue?6b22","webpack:///./src/modules/store-management/components/StoreClosing.vue?b567","webpack:///./src/modules/store-management/components/StoreClosingWarningModal.vue?f937","webpack:///./src/modules/store-management/components/StoreClosing.vue?2c5b"],"names":["ScaocOptions","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","loading","isAcceptDisabled","on","acceptFormChanges","closeStoreClosingModal","directives","name","rawName","value","expression","slot","_v","_s","$t","availableStoreAddresses","length","model","callback","$$v","closedUntil","closedAddresses","selectedAddressesForClosing","updateSelectedIdsForOpening","_e","selectedStoreAddresses","hasAddressesSelectedForOpening","updateSelectedIdsForClosing","_l","closedUntilOption","key","displayCustomOption","displayText","closedUntilCustom","$set","themeStyles","selectedAttributes","dragAttributes","today","updateStart","updateEnd","calendarInterval","closingReason","closingReasonOption","shouldShowWarningModal","handleForceCloseFromModal","handleCancelFromModal","handleDismissFromModal","staticRenderFns","open","dismiss","pendingOrdersText","orderCancellationText","$event","stopPropagation","preventDefault","confirm","cancel","$analytics","onStoreClosureWarningPressed","pendingOrdersIds","closedStoreIds","storeAdmin","id","closeAnyway","$emit","stayOpen","pendingOrders","map","order","$tc","amountOfPendingOrders","amount","default","Getter","components","GlovoModal","GlovoBtn","Icon","ClosingReasonOptionName","ClosedUntilOptionValue","component","wrapper","border","highlight","backgroundColor","color","borderColor","borderWidth","StoreAddressSelector","start","end","closingTimeOptions","closingReasons","isLoadingClosedStores","selectedAddressesForOpening","hasWarnedUser","CUSTOM","retrieveClosedStoreAddresses","retrieveClosingReasons","option","user","fetchService","getClosedStoreAddressIds","closedStoreAddressIds","getTemporaryClosingOptions","result","untilOptions","push","$i18n","t","toString","reasonOptions","console","error","values","ids","shouldWarnUserBeforeAccepting","warnUserBeforeAccepting","isOpeningOneOrMoreStores","openStores","isClosingOneOrMoreStoresWithoutDateRange","closeStoresWithoutDateRange","isCustomDateRange","closeStoresWithDateRange","storeAddressIds","selectedStoreAddressIdsForRequests","checkinPending","confirmCheckIn","openStoreAddressesNew","closeStoreAddressesTemporarily","until","reason","setClosingDays","interval","formatDate","isMultiView","$router","date","local","format","isOpen","noAddressesAreSelected","isMissingClosedUntilOrReason","hasNotSelectedDateRange","filter","includes","isPendingCheckIn","toggles","FE_PARTNERS_WEB_CHECK_IN_ENABLED","hasPendingOrders","isTodaySelected","Date","store","Action","StoreClosingWarningModal","ModalWrapper","VCalendar"],"mappings":"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","file":"js/chunk-34c3e184.67099fb0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"store-closing\"},[_c('modal-wrapper',{attrs:{\"loading\":_vm.loading,\"disabled\":_vm.isAcceptDisabled,\"data-qa\":\"accept-modal\"},on:{\"accept\":_vm.acceptFormChanges,\"cancel\":_vm.closeStoreClosingModal}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoadingClosedStores),expression:\"isLoadingClosedStores\"}],staticClass:\"store-closing_body\",attrs:{\"slot\":\"body\"},slot:\"body\"},[(_vm.isClosed)?_c('div',{staticClass:\"store-closing_section\"},[_c('h2',{staticClass:\"store-closing_section_title\"},[_vm._v(\" \"+_vm._s(_vm.$t('store.open'))+\" \")]),(_vm.availableStoreAddresses.length === 1)?_c('section',[_c('span',{staticClass:\"store-closing_section_subtitle\"},[_vm._v(\" \"+_vm._s(_vm.$t('store.opening.subtitle'))+\" \")]),_c('div',{staticClass:\"store-closing_section_content\"},[_c('el-radio-group',{attrs:{\"size\":\"large\"},model:{value:(_vm.closedUntil),callback:function ($$v) {_vm.closedUntil=$$v},expression:\"closedUntil\"}},[_c('el-radio',{staticClass:\"store-closing_section_item\",attrs:{\"label\":null,\"data-qa\":\"open-store-button\"}},[_vm._v(\" \"+_vm._s(_vm.$t('common.open'))+\" \")])],1)],1)]):(_vm.shouldShowStoreOpeningSelector)?_c('section',[_c('h3',{staticClass:\"store-closing_section_subtitle\"},[_vm._v(\" \"+_vm._s(_vm.$t('store.opening.addresses'))+\" \")]),_c('store-address-selector',{attrs:{\"options\":_vm.closedAddresses,\"disabled\":_vm.selectedAddressesForClosing.length > 0,\"data-qa\":\"open-store-address-selector\"},on:{\"selection-change\":_vm.updateSelectedIdsForOpening}})],1):_vm._e()]):_vm._e(),_c('div',{staticClass:\"store-closing_section\"},[_c('h2',{staticClass:\"store-closing_section_title\"},[_vm._v(\" \"+_vm._s(_vm.$t('store.close'))+\" \")]),(_vm.isMultiView)?_c('div',{staticClass:\"store-closing_multi\"},[_c('h3',{staticClass:\"store-closing_section_subtitle\"},[_vm._v(\" \"+_vm._s(_vm.$t('store.closing.addresses'))+\" \")]),_c('store-address-selector',{attrs:{\"options\":_vm.selectedStoreAddresses,\"disabled\":_vm.hasAddressesSelectedForOpening,\"data-qa\":\"close-store-address-selector\"},on:{\"selection-change\":_vm.updateSelectedIdsForClosing}})],1):_vm._e(),[_c('span',{staticClass:\"store-closing_section_subtitle\"},[_vm._v(\" \"+_vm._s(_vm.$t('store.closing.subtitle'))+\" \")]),_c('div',{staticClass:\"store-closing_section_content\"},[_c('el-radio-group',{attrs:{\"disabled\":_vm.hasAddressesSelectedForOpening,\"size\":\"large\"},model:{value:(_vm.closedUntil),callback:function ($$v) {_vm.closedUntil=$$v},expression:\"closedUntil\"}},_vm._l((_vm.closingTimeOptions),function(closedUntilOption){return _c('el-radio',{key:closedUntilOption.value,staticClass:\"close-option store-closing_section_item\",attrs:{\"label\":closedUntilOption.value,\"data-qa\":\"closed-until-options\"}},[(!_vm.displayCustomOption(closedUntilOption.value))?_c('span',[_vm._v(_vm._s(closedUntilOption.displayText))]):_vm._e(),(_vm.displayCustomOption(closedUntilOption.value))?[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":_vm.$t('from.label') + ':',\"readonly\":true},model:{value:(_vm.closedUntilCustom.start),callback:function ($$v) {_vm.$set(_vm.closedUntilCustom, \"start\", $$v)},expression:\"closedUntilCustom.start\"}}),_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":_vm.$t('until.label') + ':',\"readonly\":true},model:{value:(_vm.closedUntilCustom.end),callback:function ($$v) {_vm.$set(_vm.closedUntilCustom, \"end\", $$v)},expression:\"closedUntilCustom.end\"}}),_c('v-date-picker',{attrs:{\"id\":\"closePicker\",\"theme-styles\":_vm.themeStyles,\"select-attribute\":_vm.selectedAttributes,\"drag-attribute\":_vm.dragAttributes,\"mode\":\"range\",\"is-inline\":true,\"min-date\":_vm.today,\"placeholder\":_vm.$t('time.options.date.picker.hint'),\"data-qa\":\"date-picker\"},on:{\"drag\":_vm.updateStart,\"input\":_vm.updateEnd},model:{value:(_vm.calendarInterval),callback:function ($$v) {_vm.calendarInterval=$$v},expression:\"calendarInterval\"}})]:_vm._e()],2)}),1),_c('h3',{staticClass:\"store-closing_section_subtitle\"},[_vm._v(\" \"+_vm._s(_vm.$t('store.closing.reason.title'))+\" \")]),_c('el-radio-group',{attrs:{\"size\":\"large\",\"disabled\":_vm.hasAddressesSelectedForOpening},model:{value:(_vm.closingReason),callback:function ($$v) {_vm.closingReason=$$v},expression:\"closingReason\"}},_vm._l((_vm.filteredClosingReasons),function(closingReasonOption){return _c('el-radio',{key:closingReasonOption.value,staticClass:\"store-closing_section_item\",attrs:{\"label\":closingReasonOption.value,\"data-qa\":\"closing-reason-options\"}},[_vm._v(\" \"+_vm._s(closingReasonOption.displayText)+\" \")])}),1)],1)]],2)])]),_c('store-closing-warning-modal',{attrs:{\"open\":_vm.shouldShowWarningModal,\"closed-store-ids\":_vm.selectedAddressesForClosing,\"data-qa\":\"store-closing-warning-modal\"},on:{\"force-close\":_vm.handleForceCloseFromModal,\"cancel\":_vm.handleCancelFromModal,\"dismiss\":_vm.handleDismissFromModal}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export enum ScaocOptions {\n  stayOpen = 'STAY_OPEN',\n  closeAnyway = 'CLOSE_ANYWAY'\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('glovo-modal',{attrs:{\"value\":_vm.open,\"show-close-button\":true,\"data-qa\":\"store-closing-warning-modal\"},on:{\"close\":_vm.dismiss}},[_c('template',{slot:\"content\"},[_c('div',{staticClass:\"warning__modal\"},[_c('icon',{staticClass:\"warning__modal__icon\",attrs:{\"name\":\"warning\"}}),_c('h1',{staticClass:\"warning__modal__title\"},[_vm._v(_vm._s(_vm.pendingOrdersText))]),_c('div',{staticClass:\"warning__modal__subtitle\"},[_c('span',{staticClass:\"warning__modal__subtitle--cancellation\"},[_vm._v(_vm._s(_vm.orderCancellationText))]),_c('span',[_vm._v(_vm._s(this.$t('store.close.warn.cancellation')))])])],1)]),_c('template',{slot:\"buttons\"},[_c('div',{staticClass:\"warning__buttons\"},[_c('glovo-btn',{staticClass:\"warning__buttons--confirm\",attrs:{\"type\":\"white-green\",\"text\":this.$t('store.close.warn.confirm'),\"bold\":true,\"size\":\"large\",\"data-qa\":\"confirm-button\"},on:{\"clack\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.confirm($event)}}}),_c('glovo-btn',{staticClass:\"warning__buttons--cancel\",attrs:{\"type\":\"green\",\"text\":this.$t('store.close.warn.cancel'),\"bold\":true,\"size\":\"large\",\"data-qa\":\"cancel-button\"},on:{\"clack\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.cancel($event)}}})],1)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from 'vue'\nimport Component from 'vue-class-component'\nimport { Prop } from 'vue-property-decorator'\nimport { orderManagement } from '@/modules/orders/store/namespace'\nimport { authentication } from '@/modules/authentication/store/namespace'\nimport { GET_PENDING_ORDERS_GETTER } from '@/modules/orders/store/getters'\nimport { GET_CURRENT_STORE_ADMIN_GETTER } from '@/modules/authentication'\nimport { StoreAdmin } from '@/modules/store/data/resources'\nimport { StoreAddressId } from '@/modules/store/data/resources'\nimport { PendingOrder } from '@/modules/store/data/resources/orders-list/order-types'\nimport { ScaocOptions } from '@/modules/analytics/types/ScaocOptions'\nimport GlovoModal from 'common/ui/modal/GlovoModal.vue'\nimport GlovoBtn from 'common/GlovoBtn.vue'\nimport Icon from 'common/Icon.vue'\n\n@Component({\n  name: 'StoreClosingWarningModal',\n  components: {\n    GlovoModal,\n    GlovoBtn,\n    Icon\n  }\n})\nexport default class StoreClosingWarningModal extends Vue {\n  @Prop({ default: false }) open!: boolean\n  @Prop() closedStoreIds!: StoreAddressId[]\n\n  @orderManagement.Getter(GET_PENDING_ORDERS_GETTER)\n  pendingOrders!: PendingOrder[]\n\n  @authentication.Getter(GET_CURRENT_STORE_ADMIN_GETTER)\n  storeAdmin!: StoreAdmin\n\n  get amountOfPendingOrders() {\n    return this.pendingOrders.length\n  }\n\n  get pendingOrdersIds() {\n    return this.pendingOrders?.map(order => order.id)\n  }\n\n  get pendingOrdersText() {\n    return this.$tc('store.close.warn.pending', this.amountOfPendingOrders, {\n      amount: this.amountOfPendingOrders\n    })\n  }\n\n  get orderCancellationText() {\n    return this.$tc('store.close.warn.cancelled', this.amountOfPendingOrders)\n  }\n\n  confirm() {\n    // TS Ignore comment to be taken care of in task - https://glovoapp.atlassian.net/browse/PAR-2254\n    // @ts-ignore\n    this.$analytics.onStoreClosureWarningPressed(\n      this.pendingOrdersIds,\n      this.closedStoreIds,\n      this.storeAdmin.id,\n      ScaocOptions.closeAnyway\n    )\n    this.$emit('force-close')\n  }\n\n  cancel() {\n    // TS Ignore comment to be taken care of in task - https://glovoapp.atlassian.net/browse/PAR-2254\n    // @ts-ignore\n    this.$analytics.onStoreClosureWarningPressed(\n      this.pendingOrdersIds,\n      this.closedStoreIds,\n      this.storeAdmin.id,\n      ScaocOptions.stayOpen\n    )\n    this.$emit('cancel')\n  }\n\n  dismiss() {\n    this.$emit('dismiss')\n  }\n}\n","export enum ClosingReasonOptionName {\n  PEAK_TIME = 'PEAK_TIME',\n  TECHNICAL_ISSUES = 'TECHNICAL_ISSUES',\n  GLOVO_DEVICE = 'GLOVO_DEVICE',\n  HOLIDAY = 'HOLIDAY',\n  OTHER = 'OTHER'\n}\n","export enum ClosedUntilOptionValue {\n  CUSTOM = 'custom',\n  THIRTY_MINUTES = 'THIRTY_MINUTES',\n  ONE_HOUR = 'ONE_HOUR',\n  END_OF_WORKING_DAY = 'END_OF_WORKING_DAY'\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreClosingWarningModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreClosingWarningModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StoreClosingWarningModal.vue?vue&type=template&id=63576fcc&\"\nimport script from \"./StoreClosingWarningModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./StoreClosingWarningModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./StoreClosingWarningModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export const themeStyles = {\n  wrapper: {\n    'background-color': 'none',\n    border: 'none'\n  }\n}\n\nexport const selectedAttributes = {\n  highlight: {\n    backgroundColor: '#FFC244',\n    color: '#ff'\n  }\n}\n\nexport const dragAttributes = {\n  highlight: {\n    backgroundColor: 'none',\n    borderColor: '#FFC244',\n    borderWidth: '2px'\n  }\n}\n","\nimport ModalWrapper from 'common/ModalWrapper.vue'\nimport StoreClosingWarningModal from './StoreClosingWarningModal.vue'\nconst StoreAddressSelector = () => import('common/StoreAddressSelector.vue')\nimport userApiFactory from '@/api/user'\nimport moment from 'moment-timezone'\nimport VCalendar from 'v-calendar'\nimport 'v-calendar/lib/v-calendar.min.css'\nimport { HttpModule } from '@/modules/http'\nimport {\n  GET_AVAILABLE_STORE_ADDRESS_IDS_GETTER,\n  GET_SELECTED_STORE_ADDRESS_IDS_GETTER\n} from '@/modules/authentication'\nimport Component from 'vue-class-component'\nimport Vue from 'vue'\nimport { Watch } from 'vue-property-decorator'\nimport { authentication } from '@/modules/authentication/store/namespace'\nimport { StoreAddressId } from '@/modules/store/data/resources'\nimport {\n  themeStyles as _themeStyles,\n  selectedAttributes as _selectedAttributes,\n  dragAttributes as _dragAttributes,\n  ClosedUntilOptionValue\n} from '../constants'\nimport { Interval } from 'models/Interval'\nimport { StoreAction } from '@/modules/store/types/store'\nimport { IS_MULTIVIEW_GETTER } from '@/modules/authentication/store/getters'\nimport {\n  GET_IS_OPEN_GETTER,\n  storeManagement,\n  GET_IS_CHECK_IN_PENDING_GETTER\n} from '@/modules/store-management/store'\nimport {\n  OPEN_STORE_ADDRESSES,\n  OpenStoreAddressesPayload,\n  SET_CLOSING_DAYS,\n  SetClosingDaysPayload,\n  CLOSE_STORE_ADDRESSES_TEMPORARILY,\n  CloseStoreAddressesTemporarilyPayload,\n  OPEN_STORE_ADDRESSES_NEW,\n  ConfirmCheckInPayload,\n  CONFIRM_CHECK_IN\n} from '@/modules/store-management/store/action-types'\nimport { NonEmptyArrayOf } from 'types/NonEmptyArrayOf'\nimport { ClosingOption } from '../types'\nimport { GET_TOGGLES_GETTER } from '@/modules/feature-toggles'\nimport { FeatureToggle } from '@/modules/feature-toggles/store/state'\nimport { Getter } from 'vuex-class'\nimport { orderManagement } from '@/modules/orders/store/namespace'\nimport { HAS_PENDING_ORDERS_GETTER } from '@/modules/orders/store/getters'\nimport { ORDERS_ROUTE } from '@/modules/orders/orders-routes'\n\n@Component({\n  name: 'StoreClosing',\n  components: {\n    StoreAddressSelector,\n    StoreClosingWarningModal,\n    ModalWrapper,\n    VCalendar\n  }\n})\nexport default class StoreClosing extends Vue {\n  dragAttributes = _dragAttributes\n  themeStyles = _themeStyles\n  selectedAttributes = _selectedAttributes\n  closedUntil: string | null = null\n  closedUntilCustom: Interval = {\n    start: '',\n    end: ''\n  }\n  closingTimeOptions: ClosingOption[] | null = null\n  closingReasons: ClosingOption[] | null = null\n  calendarInterval: Interval | null = null\n  loading = false\n  closingReason: string | null = null\n  isLoadingClosedStores = false\n  selectedAddressesForOpening: StoreAddressId[] = []\n  selectedAddressesForClosing: StoreAddressId[] = []\n  closedAddresses: StoreAddressId[] = []\n  shouldShowWarningModal: boolean = false\n  hasWarnedUser = false\n\n  @Getter(GET_TOGGLES_GETTER) toggles!: Record<FeatureToggle, boolean>\n\n  @storeManagement.Getter(GET_IS_OPEN_GETTER)\n  isOpen!: boolean\n\n  @orderManagement.Getter(HAS_PENDING_ORDERS_GETTER)\n  hasPendingOrders!: boolean\n\n  @authentication.Getter(GET_AVAILABLE_STORE_ADDRESS_IDS_GETTER)\n  availableStoreAddresses!: NonEmptyArrayOf<StoreAddressId>\n\n  @authentication.Getter(IS_MULTIVIEW_GETTER)\n  isMultiView!: boolean\n\n  @authentication.Getter(GET_SELECTED_STORE_ADDRESS_IDS_GETTER)\n  selectedStoreAddresses!: StoreAddressId[]\n\n  @storeManagement.Getter(GET_IS_CHECK_IN_PENDING_GETTER)\n  isPendingCheckIn!: boolean\n\n  @storeManagement.Action(OPEN_STORE_ADDRESSES)\n  openStoreAddresses!: StoreAction<OpenStoreAddressesPayload>\n\n  @storeManagement.Action(OPEN_STORE_ADDRESSES_NEW)\n  openStoreAddressesNew!: StoreAction<OpenStoreAddressesPayload>\n\n  @storeManagement.Action(CLOSE_STORE_ADDRESSES_TEMPORARILY)\n  closeStoreAddressesTemporarily!: StoreAction<\n    CloseStoreAddressesTemporarilyPayload\n  >\n\n  @storeManagement.Action(SET_CLOSING_DAYS)\n  setClosingDays!: StoreAction<SetClosingDaysPayload>\n\n  @storeManagement.Action(CONFIRM_CHECK_IN)\n  confirmCheckIn!: StoreAction<ConfirmCheckInPayload>\n\n  @Watch('closedUntilCustom')\n  onClosedUntilCustomChange() {\n    if (this.closedUntilCustom) {\n      this.closedUntil = ClosedUntilOptionValue.CUSTOM\n    }\n  }\n\n  mounted() {\n    this.retrieveClosedStoreAddresses()\n    this.retrieveClosingReasons()\n  }\n\n  get shouldShowStoreOpeningSelector() {\n    return this.isMultiView && this.closedAddresses.length > 0\n  }\n\n  get isClosed() {\n    return !this.isOpen || this.closedAddresses.length > 0\n  }\n\n  get hasAddressesSelectedForOpening() {\n    return (\n      this.closedAddresses.length > 0 &&\n      this.selectedAddressesForOpening.length > 0\n    )\n  }\n\n  get noAddressesAreSelected() {\n    return (\n      this.selectedAddressesForOpening.length === 0 &&\n      this.selectedAddressesForClosing.length === 0\n    )\n  }\n\n  get isAcceptDisabled() {\n    if (this.hasAddressesSelectedForOpening) {\n      return false\n    }\n    if (this.isMultiView && this.noAddressesAreSelected) {\n      return true\n    }\n    if (this.isOpen && !this.isCustomDateRange) {\n      return this.isMissingClosedUntilOrReason\n    } else if (!this.isOpen && !this.closedUntil) {\n      return false // usually for the case of opening a single store address\n    } else if (this.isCustomDateRange && this.hasNotSelectedDateRange) {\n      return true\n    }\n    return this.isMissingClosedUntilOrReason\n  }\n\n  get isMissingClosedUntilOrReason() {\n    return !this.closedUntil || !this.closingReason\n  }\n\n  get hasNotSelectedDateRange() {\n    return !this.closedUntilCustom.start || !this.closedUntilCustom.end\n  }\n\n  get isCustomDateRange() {\n    return this.closedUntil === ClosedUntilOptionValue.CUSTOM\n  }\n\n  get filteredClosingReasons(): ClosingOption[] | null {\n    if (!this.closingReasons) {\n      return []\n    }\n    if (this.isCustomDateRange) {\n      return this.closingReasons.filter((reason: ClosingOption) =>\n        ['HOLIDAY', 'OTHER'].includes(reason.value)\n      )\n    }\n    return this.closingReasons.filter(\n      (reason: ClosingOption) => reason.value !== 'HOLIDAY'\n    )\n  }\n\n  get isOpeningOneOrMoreStores() {\n    return (\n      !this.closedUntil &&\n      (!this.isOpen || this.selectedAddressesForOpening.length > 0)\n    )\n  }\n\n  get isClosingOneOrMoreStoresWithoutDateRange(): boolean {\n    return !!(this.closedUntil && this.closingReason && !this.isCustomDateRange)\n  }\n\n  get checkinPending() {\n    return (\n      this.isPendingCheckIn &&\n      !this.isMultiView &&\n      this.toggles.FE_PARTNERS_WEB_CHECK_IN_ENABLED\n    )\n  }\n\n  displayCustomOption(option: string) {\n    return (\n      this.closedUntil === ClosedUntilOptionValue.CUSTOM &&\n      option === ClosedUntilOptionValue.CUSTOM\n    )\n  }\n\n  async retrieveClosedStoreAddresses() {\n    this.isLoadingClosedStores = true\n    try {\n      const { getClosedStoreAddressIds } = userApiFactory(\n        HttpModule.fetchService\n      )\n      const { closedStoreAddressIds } = await getClosedStoreAddressIds(\n        this.selectedStoreAddresses\n      )\n      this.closedAddresses = closedStoreAddressIds\n    } catch (error) {\n      this.closedAddresses = []\n    } finally {\n      this.isLoadingClosedStores = false\n    }\n  }\n\n  async retrieveClosingReasons() {\n    try {\n      const { getTemporaryClosingOptions } = userApiFactory(\n        HttpModule.fetchService\n      )\n      const result = await getTemporaryClosingOptions()\n      this.closingTimeOptions = result.untilOptions\n      this.closingTimeOptions!.push({\n        value: ClosedUntilOptionValue.CUSTOM,\n        displayText: this.$i18n.t('time.options.custom').toString()\n      })\n      this.closingReasons = result.reasonOptions\n    } catch (error) {\n      console.error(`getTemporaryClosingOptions failure: ${error}`)\n    }\n  }\n\n  updateStart(values: { start?: string; end?: string }) {\n    if (values && values.start) {\n      this.closedUntilCustom.start = values.start\n    }\n  }\n\n  updateEnd(values: { start?: string; end?: string }) {\n    this.updateStart(values)\n    if (values.end) {\n      this.closedUntilCustom.end = values.end\n    }\n  }\n\n  updateSelectedIdsForClosing(ids: StoreAddressId[]) {\n    this.selectedAddressesForOpening = []\n    this.selectedAddressesForClosing = ids\n  }\n\n  updateSelectedIdsForOpening(ids: StoreAddressId[]) {\n    this.selectedAddressesForClosing = []\n    this.closingReason = null\n    this.closedUntil = null\n    this.calendarInterval = null\n    this.selectedAddressesForOpening = ids\n  }\n\n  async acceptFormChanges() {\n    this.loading = true\n    if (this.shouldWarnUserBeforeAccepting) {\n      this.warnUserBeforeAccepting()\n      return\n    }\n    if (this.isOpeningOneOrMoreStores) {\n      await this.openStores()\n    } else if (this.isClosingOneOrMoreStoresWithoutDateRange) {\n      await this.closeStoresWithoutDateRange()\n    } else if (this.isCustomDateRange) {\n      await this.closeStoresWithDateRange()\n    }\n    this.loading = false\n    this.closeStoreClosingModal()\n  }\n\n  get shouldWarnUserBeforeAccepting() {\n    if (this.hasWarnedUser || !this.hasPendingOrders) {\n      return false\n    }\n    if (this.isClosingOneOrMoreStoresWithoutDateRange) {\n      return true\n    } else if (this.isCustomDateRange && this.isTodaySelected) {\n      return true\n    }\n    return false\n  }\n\n  async openStores() {\n    const storeAddressIds = this.selectedStoreAddressIdsForRequests(\n      this.selectedAddressesForOpening\n    )\n\n    if (this.checkinPending) {\n      await this.confirmCheckIn(storeAddressIds[0])\n    }\n\n    await this.openStoreAddressesNew(storeAddressIds)\n  }\n\n  async closeStoresWithoutDateRange() {\n    const storeAddressIds = this.selectedStoreAddressIdsForRequests(\n      this.selectedAddressesForClosing\n    )\n    await this.closeStoreAddressesTemporarily({\n      until: this.closedUntil!,\n      reason: this.closingReason!,\n      storeAddressIds: storeAddressIds\n    })\n  }\n\n  async closeStoresWithDateRange() {\n    const storeAddressIds = this.selectedStoreAddressIdsForRequests(\n      this.selectedAddressesForClosing\n    )\n    await this.setClosingDays({\n      interval: {\n        start: this.formatDate(this.closedUntilCustom.start),\n        end: this.formatDate(this.closedUntilCustom.end),\n        reason: this.closingReason!\n      },\n      storeAddressIds\n    })\n  }\n\n  selectedStoreAddressIdsForRequests(\n    ids: StoreAddressId[]\n  ): NonEmptyArrayOf<StoreAddressId> {\n    return this.isMultiView\n      ? (ids as NonEmptyArrayOf<StoreAddressId>)\n      : this.availableStoreAddresses\n  }\n\n  warnUserBeforeAccepting() {\n    this.shouldShowWarningModal = true\n  }\n\n  handleForceCloseFromModal() {\n    this.shouldShowWarningModal = false\n    this.hasWarnedUser = true\n    this.acceptFormChanges()\n  }\n\n  handleCancelFromModal() {\n    this.shouldShowWarningModal = false\n    this.closeStoreClosingModal()\n    this.$router.push(ORDERS_ROUTE)\n  }\n\n  handleDismissFromModal() {\n    this.loading = false\n    this.shouldShowWarningModal = false\n  }\n\n  closeStoreClosingModal() {\n    this.$emit('close')\n  }\n\n  get isTodaySelected() {\n    return (\n      this.formatDate(this.closedUntilCustom.start) ===\n      this.formatDate(this.today)\n    )\n  }\n\n  get today() {\n    return new Date()\n  }\n\n  formatDate(date: string | Date) {\n    return moment(date).local().format('YYYY-MM-DD')\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreClosing.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreClosing.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StoreClosing.vue?vue&type=template&id=7d535c44&scoped=true&\"\nimport script from \"./StoreClosing.vue?vue&type=script&lang=ts&\"\nexport * from \"./StoreClosing.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./StoreClosing.vue?vue&type=style&index=0&id=7d535c44&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d535c44\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreClosingWarningModal.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreClosing.vue?vue&type=style&index=0&id=7d535c44&lang=scss&scoped=true&\""],"sourceRoot":""}