(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["profile","permissions","chunk-d02b9972"],{"00ba":function(e,t,s){"use strict";s("34fb")},"0d88":function(e,t,s){"use strict";s("9b6d")},"0db8":function(e,t,s){"use strict";s("8d45")},1373:function(e,t,s){"use strict";s("c56f")},"1c9b":function(e,t,s){"use strict";s("f915")},"1e67":function(e,t,s){},2227:function(e,t,s){"use strict";s("71ca")},2436:function(e,t,s){"use strict";s("c8d4")},"28f8":function(e,t,s){"use strict";s("875c")},"2c21":function(e,t,s){"use strict";s("4f3a")},"2e99":function(e,t,s){"use strict";s("cb14")},"2f6d":function(e,t,s){},"32d7":function(e,t,s){"use strict";s("e6ac")},"345b":function(e,t,s){"use strict";s("67c1")},"34fb":function(e,t,s){},"35ce":function(e,t,s){},"3a8e":function(e,t,s){"use strict";s("3d82")},"3bda":function(e,t,s){"use strict";s("babf")},"3d82":function(e,t,s){},"44b1":function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));s("4d63"),s("ac1f"),s("25f0");var n=s("d4ec"),a=s("bee2"),i=/^(0|([1-9]\d*))$/,o=function(){function e(){Object(n["a"])(this,e)}return Object(a["a"])(e,null,[{key:"createPhoneValidator",value:function(t){return e.createRegexValidator(t,e.PHONE_REGEX)}},{key:"createRegexValidator",value:function(e,t){return function(s,n,a){n&&!new RegExp(t).test(n)?a(new Error(e)):a()}}},{key:"createEmptyOrNaturalNumberValidator",value:function(e){return function(t,s,n){r(s)||c(s)?n():n(new Error(e))}}}]),e}();o.PHONE_REGEX=new RegExp("^\\+?[1-9]\\d{1,14}$");var r=function(e){return null==e||""===e},c=function(e){return i.test(String(e))}},"4f3a":function(e,t,s){},6320:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{permissions:!0,"permissions--new-styles":e.shouldApplyNewStyles}},[s("div",{staticClass:"permissions_top"},[s("icon",{attrs:{name:e.shouldApplyNewStyles?"logo-name--colorful":"logo-name"}})],1),e.shouldApplyNewStyles?[s("div",{staticClass:"permissions_warning"},[e._v(" "+e._s(e.$t("permissions.warning"))+", "+e._s(e.$t("permissions.password").toLowerCase())+": ")])]:[s("div",{staticClass:"permissions_warning"},[e._v(" "+e._s(e.$t("permissions.warning"))+" ")]),s("div",{staticClass:"permissions_hint"},[e._v(" "+e._s(e.$t("permissions.password"))+" ")])],s("div",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticClass:"permissions_error warning"},[e._v(" "+e._s(e.$t("permissions.wrong"))+" ")]),s("numpad",{staticClass:"permissions_numpad",attrs:{"data-qa":"numpad",subscribe:!0,height:e.shouldApplyNewStyles?"222px":"400px","should-apply-new-styles":e.shouldApplyNewStyles},on:{change:e.numberChanged,finish:e.numberEntered}}),s("div",{staticClass:"permissions_forgot"},[e._v(" "+e._s(e.$t("permissions.forgot"))+" ")]),s("div",{staticClass:"permissions_btns"},[s("glovo-btn",{attrs:{"data-qa":"permissions-back-btn",text:e.$t("permissions.cancel"),type:e.shouldApplyNewStyles?"white-green":"white",uppercase:!e.shouldApplyNewStyles},on:{clack:function(t){return e.back()}}}),s("glovo-btn",{attrs:{"data-qa":"permissions-submit-btn",text:e.$t("permissions.login"),type:"green",uppercase:!e.shouldApplyNewStyles,bold:!0},on:{clack:function(t){return e.checkAuth()}}})],1)],2)},a=[],i=s("5530"),o=s("73f7"),r=s("314e"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{numpad:!0,"numpad--new-styles":e.shouldApplyNewStyles}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.result,expression:"result"}],staticClass:"numpad_input",attrs:{type:"password"},domProps:{value:e.result},on:{input:function(t){t.target.composing||(e.result=t.target.value)}}}),s("div",{staticClass:"numpad_keyboard",style:e.stlyes},[s("div",{staticClass:"numpad_key",on:{click:function(t){return e.pressed("1")}}},[e._v("1")]),s("div",{staticClass:"numpad_key",on:{click:function(t){return e.pressed("2")}}},[e._v("2")]),s("div",{staticClass:"numpad_key",on:{click:function(t){return e.pressed("3")}}},[e._v("3")]),s("div",{staticClass:"numpad_key",on:{click:function(t){return e.pressed("4")}}},[e._v("4")]),s("div",{staticClass:"numpad_key",on:{click:function(t){return e.pressed("5")}}},[e._v("5")]),s("div",{staticClass:"numpad_key",on:{click:function(t){return e.pressed("6")}}},[e._v("6")]),s("div",{staticClass:"numpad_key",on:{click:function(t){return e.pressed("7")}}},[e._v("7")]),s("div",{staticClass:"numpad_key",on:{click:function(t){return e.pressed("8")}}},[e._v("8")]),s("div",{staticClass:"numpad_key",on:{click:function(t){return e.pressed("9")}}},[e._v("9")]),s("div",{staticClass:"numpad_key numpad_key_0",on:{click:function(t){return e.pressed("0")}}},[e._v("0")]),s("div",{staticClass:"numpad_key numpad_key_clear",on:{click:function(t){return e.remove()}}})])])},l=[],u=(s("fb6a"),s("a9e3"),{name:"Numpad",props:{width:{type:String,default:"100%"},height:{type:String,default:"400px"},subscribe:{type:Boolean},number:{type:Boolean},length:{type:Number,default:4},shouldApplyNewStyles:{type:Boolean}},data:function(){return{result:"",maxLength:this.length,stlyes:{width:this.width,height:this.height}}},methods:{pressed:function(e){this.result.length!==this.maxLength&&(this.result+=e,this.subscribe&&this.change(),4===this.result.length&&this.finish())},remove:function(){0!==this.result.length&&(this.result=this.result.slice(0,-1),this.subscribe&&this.change())},change:function(){var e=this.number?parseInt(this.result):this.result;this.$emit("change",e)},finish:function(){var e=this.number?parseInt(this.result):this.result;this.$emit("finish",e)}}}),d=u,p=(s("2e99"),s("2877")),f=Object(p["a"])(d,c,l,!1,null,"1beaa55c",null),m=f.exports,h=s("2f62"),b=s("40c5"),v=s("e1e3"),y={name:"Permissions",components:{Icon:o["a"],GlovoBtn:r["a"],Numpad:m},props:{popup:{type:Boolean}},data:function(){return{password:"",error:!1}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(h["c"])("authentication",{user:b["d"]})),Object(h["c"])({toggles:v["b"]})),{},{shouldApplyNewStyles:function(){return!!this.toggles["FE_PARTNERS_PERMISSIONS_POPUP_NEW_STYLES"]}}),methods:Object(i["a"])(Object(i["a"])({},Object(h["b"])("authentication",{setAdminMode:b["l"]})),{},{checkAuth:function(){if(this.error=!1,this.user.supervisorPassword===this.password){this.setAdminMode(!0);var e=this.$route.query.redirect||"/";this.popup?this.$emit("accept"):this.$router.push({path:e})}else this.error=!0},back:function(){this.popup?this.$emit("close"):this.$router.go(-1)},numberChanged:function(e){this.error=!1,this.password=e},numberEntered:function(e){this.numberChanged(e),this.checkAuth()}})},g=y,_=(s("0db8"),Object(p["a"])(g,n,a,!1,null,"058eaa42",null));t["default"]=_.exports},"67c1":function(e,t,s){},"6b1b":function(e,t,s){},"6e07":function(e,t,s){"use strict";s("d148")},"71ca":function(e,t,s){},"75d4":function(e,t,s){},"7bfc":function(e,t,s){"use strict";s("6b1b")},8184:function(e,t,s){"use strict";s("8bc5")},"875c":function(e,t,s){},"8bc5":function(e,t,s){},"8bf4":function(e,t,s){"use strict";s("35ce")},"8ca8":function(e,t,s){"use strict";s("cb57")},"8d45":function(e,t,s){},"8fce":function(e,t,s){"use strict";s("e849")},"93f3":function(e,t,s){},"9b6d":function(e,t,s){},a48b:function(e,t,s){"use strict";s("75d4")},aa61:function(e,t,s){"use strict";s("d705")},ae01:function(e,t,s){},aec2:function(e,t,s){"use strict";s("d212")},b30f:function(e,t,s){"use strict";s("dce4")},b414:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"profile"},[s("profile-communication"),s("profile-header"),e.isDesktop?e._e():s("profile-tickets",{attrs:{"data-qa":"tickets"}}),s("profile-stores"),s("profile-footer")],1)},a=[],i=s("d4ec"),o=s("bee2"),r=s("262e"),c=s("2caf"),l=s("9ab4"),u=s("2fe1"),d=s("a026"),p=s("4bb5"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isVisible?n("div",{staticClass:"banner"},[n("img",{staticClass:"banner__image",attrs:{src:s("3798"),alt:""}}),n("div",{staticClass:"banner__communication"},[n("span",{staticClass:"banner__communication__title"},[e._v(" "+e._s(e.communication.title)+" ")]),n("span",{staticClass:"banner__communication__message"},[e._v(" "+e._s(e.communication.bodyMessage)+" ")]),n("a",{staticClass:"banner__communication__url",attrs:{href:e.communication.linkUrl,target:"_blank"}},[e._v(" "+e._s(e.communication.linkText)+" ")])]),n("div",[n("icon",{staticClass:"banner__icon--close",attrs:{name:"cross_black"},nativeOn:{click:function(t){return e.closeBanner()}}})],1)]):e._e()},m=[],h=(s("96cf"),s("1da1")),b=s("73f7"),v=s("40c5"),y=s("2505"),g=s("1b40"),_=function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){return Object(i["a"])(this,s),t.apply(this,arguments)}return Object(o["a"])(s,[{key:"mounted",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.selectedStoreAddresses.length>=1&&this.loadCommunication(this.selectedStoreAddresses[0]);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onSelectedStoreAddressesChange",value:function(){this.selectedStoreAddresses.length>=1&&this.loadCommunication(this.selectedStoreAddresses[0])}},{key:"loadCommunication",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getUnviewedCommunication(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"closeBanner",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.markCommunicationAsViewed({storeAddressId:this.selectedStoreAddresses[0],communicationId:this.communication.id});case 2:return e.next=4,this.loadCommunication(this.selectedStoreAddresses[0]);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isVisible",get:function(){return!(!this.communication||!this.communication.title)}}]),s}(d["default"]);Object(l["c"])([Object(p["b"])("communication")],_.prototype,"communication",void 0),Object(l["c"])([y["a"].Getter(v["f"])],_.prototype,"selectedStoreAddresses",void 0),Object(l["c"])([Object(p["a"])("getUnviewedCommunication")],_.prototype,"getUnviewedCommunication",void 0),Object(l["c"])([Object(p["a"])("markCommunicationAsViewed")],_.prototype,"markCommunicationAsViewed",void 0),Object(l["c"])([Object(g["d"])("selectedStoreAddresses")],_.prototype,"onSelectedStoreAddressesChange",null),_=Object(l["c"])([Object(u["b"])({name:"ProfileCommunication",components:{Icon:b["a"]}})],_);var O=_,k=O,j=(s("fbfa"),s("2877")),C=Object(j["a"])(k,f,m,!1,null,"2b871c20",null),x=C.exports,S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header"},[s("div",{staticClass:"header__admin"},[s("label",{staticClass:"header__admin__label"},[e._v(" "+e._s(e.$t("profile.admin.mode"))+" ")]),s("el-switch",{attrs:{"on-color":"#2abb9b","off-color":"#d9dada",name:"admin-mode","off-text":"","on-text":""},model:{value:e.adminMode,callback:function(t){e.adminMode=t},expression:"adminMode"}}),e.permissionsModalDisplayed?s("permissions-modal",{on:{close:function(t){return e.changePermissionsModalDisplay(!1)},accept:function(t){return e.changePermissionsModalDisplay(!1)}}}):e._e(),e.adminModalDisplayed?s("confirm-modal",{attrs:{content:e.$t("admin.exit")},on:{cancel:function(t){return e.changeAdminModalDisplay(!1)},accept:function(t){return e.exitAdmin()}}}):e._e(),e.helpModalDisplayed?s("help-modal",{attrs:{"data-qa":"help-modal"},on:{close:function(t){return e.changeHelpModalDisplay(!1)},"support-clicked":function(t){return e.openSupport(!0)}}}):e._e(),s("support",{attrs:{visible:e.supportFormVisible,"data-qa":"support-message"},on:{close:function(t){return e.toggleSupport(!1)}}})],1),s("div",{staticClass:"header__actions"},[e.shouldShowGlovoStoreButton?s("glovo-btn",{attrs:{type:"white-green",text:e.$t("profile.order.bags"),"use-new-styling":!0,icon:"bags-green","data-qa":"bags-button"},on:{clack:function(t){return e.openGlovoStore()}}}):e._e(),s("glovo-btn",{attrs:{type:"white-green",text:e.$t("profile.help.resources"),"use-new-styling":!0,icon:"resources"},on:{clack:function(t){return e.changeHelpModalDisplay(!0)}}})],1)])},A=[],D=(s("caad"),s("b0c0"),s("b64b"),s("2532"),s("314e")),w=s("f3f7"),$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"confirm"},[s("modal-confirm-wrapper",{attrs:{"disable-accept":e.disableAccept},on:{cancel:function(t){return e.$emit("cancel")},accept:function(t){return e.checkAccept()}}},[s("div",{staticClass:"confirm-body",attrs:{slot:"body"},slot:"body"},[s("div",[e._v(e._s(e.content))]),e.disableAccept?s("div",{staticClass:"confirm-disable-reason"},[e._v(" "+e._s(e.disableReason)+" ")]):e._e()])])],1)},I=[],E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"modal-confirm-wrapper"}},[s("transition",{attrs:{name:"modal-confirm"}},[s("div",{staticClass:"modal-confirm-mask"},[s("div",{staticClass:"modal-confirm-wrapper"},[s("div",{staticClass:"modal-confirm-container"},[s("div",{staticClass:"modal-confirm-header"},[e._t("header")],2),s("div",{staticClass:"modal-confirm-body"},[e._t("body",[e._v(" default body ")])],2),s("div",{staticClass:"modal-confirm-footer"},[e._t("footer",[s("div",{staticClass:"modal-confirm-footer_actions"},[s("div",{staticClass:"button is-success is-inverted",on:{click:function(t){return e.$emit("cancel")}}},[e._v(" "+e._s(e.$t("common.cancel"))+" ")]),s("div",{staticClass:"button is-success",attrs:{disabled:e.disableAccept},on:{click:function(t){return e.$emit("accept")}}},[e._v(" "+e._s(e.$t("common.accept"))+" ")])])])],2)])])])])],1)},M=[],T={name:"ModalConfirmWrapper",props:{disableAccept:{type:Boolean}},data:function(){return{}}},R=T,q=(s("2c21"),Object(j["a"])(R,E,M,!1,null,"5aad9fe9",null)),N=q.exports,B={name:"ConfirmModal",components:{ModalConfirmWrapper:N},props:{content:{type:String,required:!0},disableAccept:{type:Boolean},disableReason:{type:String,default:""}},methods:{checkAccept:function(){this.disableAccept||this.$emit("accept")}}},L=B,P=(s("3bda"),Object(j["a"])(L,$,I,!1,null,null,null)),F=P.exports,H=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"help"},[s("transition",{attrs:{name:"modal"}},[s("div",{staticClass:"help__modal"},[s("div",{staticClass:"help__modal__wrapper"},[s("help-menu",{on:{close:function(t){return e.$emit("close")},"support-clicked":function(t){return e.$emit("support-clicked")}}})],1)])])],1)},V=[],G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"menu"},[s("div",{staticClass:"menu__close"},[s("span",{attrs:{"data-qa":"close"},on:{click:function(t){return e.$emit("close")}}},[s("icon",{staticClass:"menu__close__button",attrs:{name:"x-close"}})],1)]),s("div",{staticClass:"menu__title"},[s("span",{staticClass:"menu__title--welcome"},[e._v(e._s(e.$t("help.title.welcome"))+", "),s("span",{staticClass:"menu__title--subtext"},[e._v(e._s(e.$t("help.title.how")))])])]),s("help-menu-items",{on:{"support-clicked":function(t){return e.$emit("support-clicked")}}})],1)},K=[],U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"items"},[s("div",{staticClass:"items__options"},[e.shouldDisplayLinkToPartnerBlog?s("help-menu-blog",{attrs:{"data-qa":"help-blog"}}):e._e(),s("help-menu-message",{on:{support:function(t){return e.$emit("support-clicked")}}}),e.shouldDisplayBagsItem?s("help-menu-item",{attrs:{icon:"bags","data-qa":"help-menu-bags"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(e.$t("profile.help.bags.title"))+" ")]},proxy:!0},{key:"text",fn:function(){return[e._v(" "+e._s(e.$t("profile.help.bags.subtitle"))+" ")]},proxy:!0}],null,!1,1218158480)}):e._e(),s("help-menu-contact")],1),e.shouldDisplayRemitly?s("help-menu-remitly",{attrs:{"data-qa":"help-menu-remitly"}}):e._e()],1)},W=[],Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"blog"},[s("a",{staticClass:"blog__box blog__box--link",attrs:{href:e.glovoBlogUrl,target:"_blank","data-qa":"blog-link"}},[s("help-menu-item",{attrs:{"is-external-link":!0,icon:"help"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(e.$t("help.blog.title"))+" ")]},proxy:!0},{key:"text",fn:function(){return[e._v(" "+e._s(e.$t("help.blog.text"))+" ")]},proxy:!0}])})],1)])},z=[],J=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"help-menu-item"},[s("icon",{staticClass:"help-menu-item__icon",attrs:{name:e.icon}}),s("div",{staticClass:"help-menu-item__text"},[s("h1",{staticClass:"help-menu-item__text--title"},[e._t("title")],2),s("p",{staticClass:"help-menu-item__text--subtext"},[e._t("text")],2)]),e.isExternalLink?s("font-awesome-icon",{staticClass:"help-menu-item__link",attrs:{icon:"caret-right"}}):e._e()],1)},X=[],Q=function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){return Object(i["a"])(this,s),t.apply(this,arguments)}return s}(d["default"]);Object(l["c"])([Object(g["c"])()],Q.prototype,"icon",void 0),Object(l["c"])([Object(g["c"])()],Q.prototype,"isExternalLink",void 0),Q=Object(l["c"])([Object(u["b"])({name:"HelpMenuItem",components:{Icon:b["a"]}})],Q);var Z=Q,ee=Z,te=(s("8ca8"),Object(j["a"])(ee,J,X,!1,null,null,null)),se=te.exports,ne=function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){return Object(i["a"])(this,s),t.apply(this,arguments)}return Object(o["a"])(s,[{key:"userCountryCode",get:function(){var e=this.user||{},t=e.city,s=void 0===t?{countryCode:""}:t;return s.countryCode}},{key:"glovoBlogUrl",get:function(){return"https://partnerblog.glovoapp.".concat(this.userCountryCode,"/")}}]),s}(d["default"]);Object(l["c"])([y["a"].Getter(v["d"])],ne.prototype,"user",void 0),ne=Object(l["c"])([Object(u["b"])({name:"HelpMenuBlog",components:{HelpMenuItem:se}})],ne);var ae=ne,ie=ae,oe=(s("8184"),Object(j["a"])(ie,Y,z,!1,null,"dfb93d3e",null)),re=oe.exports,ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"help-menu-message"},[s("div",{staticClass:"help-menu-message__box help-menu-message__box--link",attrs:{"data-qa":"support-message"},on:{click:function(t){return e.$emit("support")}}},[s("help-menu-item",{attrs:{icon:"email"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(e.$t("help.message.title"))+" ")]},proxy:!0},{key:"text",fn:function(){return[e._v(" "+e._s(e.$t("help.message.text"))+" ")]},proxy:!0}])})],1)])},le=[],ue=function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){return Object(i["a"])(this,s),t.apply(this,arguments)}return s}(d["default"]);ue=Object(l["c"])([Object(u["b"])({name:"HelpMenuMessage",components:{Icon:b["a"],HelpMenuItem:se}})],ue);var de=ue,pe=de,fe=(s("0d88"),Object(j["a"])(pe,ce,le,!1,null,"61d8bc7f",null)),me=fe.exports,he=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"contact"},[s("help-menu-item",{attrs:{icon:"call"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(e.$t("help.contact.title"))+" ")]},proxy:!0},{key:"text",fn:function(){return[e._v(" "+e._s(e.$t("help.contact.text"))+" "),[e._v(e._s(e.$phone(e.contactPhone)))]]},proxy:!0}])})],1)},be=[],ve=(s("ac1f"),s("5319"),function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){var e;return Object(i["a"])(this,s),e=t.apply(this,arguments),e.currentLang=null,e}return Object(o["a"])(s,[{key:"mounted",value:function(){this.currentLang=this.$i18n.locale}},{key:"contactPhone",get:function(){return this.user&&this.user.csPhoneNumber?"ar"===this.currentLang?"".concat(this.user.csPhoneNumber.replace(/[+, /s]/g,""),"+"):this.user.csPhoneNumber.replace(/\s/g,""):""}}]),s}(d["default"]));Object(l["c"])([y["a"].Getter(v["d"])],ve.prototype,"user",void 0),ve=Object(l["c"])([Object(u["b"])({name:"HelpMenuContact",components:{HelpMenuItem:se}})],ve);var ye=ve,ge=ye,_e=Object(j["a"])(ge,he,be,!1,null,null,null),Oe=_e.exports,ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{staticClass:"remitly",attrs:{href:e.url,target:"_blank","data-qa":"remitly-url"}},[s("help-menu-item",{attrs:{"is-external-link":!0,icon:"familysupport"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Family Support "),s("span",{staticClass:"remitly__text--subtext"},[e._v("powered by Remitly")])]},proxy:!0}])})],1)},je=[],Ce=s("e1e3"),xe=function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){return Object(i["a"])(this,s),t.apply(this,arguments)}return Object(o["a"])(s,[{key:"url",get:function(){return this.toggles.FE_PARTNERS_REMITLY_URL}}]),s}(d["default"]);Object(l["c"])([Object(p["b"])(Ce["b"])],xe.prototype,"toggles",void 0),xe=Object(l["c"])([Object(u["b"])({name:"HelpMenuRemitly",components:{HelpMenuItem:se}})],xe);var Se=xe,Ae=Se,De=(s("8bf4"),Object(j["a"])(Ae,ke,je,!1,null,"825ebb78",null)),we=De.exports,$e=s("f52e"),Ie={ES:"https://glovostore.com/producto/bolsas-glovo/",PT:"https://glovostore.com/pt-pt/producto/bolsas-glovo/",IT:"https://glovostore.com/it/producto/bolsas-glovo/",PL:"https://glovostore.com/pl/producto/bolsas-glovo/",RO:"https://glovostore.com/ro/producto/bolsas-glovo/",HR:"https://glovostore.com/hr/producto/bolsas-glovo/",AR:"https://glovostore.com/producto/bolsas-glovo/",EC:"https://glovostore.com/producto/bolsas-glovo/",PE:"https://glovostore.com/producto/bolsas-glovo/",CR:"https://glovostore.com/producto/bolsas-glovo/",DO:"https://glovostore.com/producto/bolsas-glovo/",GT:"https://glovostore.com/producto/bolsas-glovo/",HN:"https://glovostore.com/producto/bolsas-glovo/",PA:"https://glovostore.com/producto/bolsas-glovo/"},Ee=function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){var e;return Object(i["a"])(this,s),e=t.apply(this,arguments),e.glovoStores=Ie,e}return Object(o["a"])(s,[{key:"isBlogEnabled",get:function(){return this.toggles.FE_PARTNERS_PROFILE_BLOG_ENABLED}},{key:"shouldDisplayLinkToPartnerBlog",get:function(){return!this.isAndroidInterfaceEnabled&&this.isBlogEnabled}},{key:"isBagsButtonEnabled",get:function(){return this.toggles.FE_PARTNERS_ASK_FOR_BAGS}},{key:"isAndroidInterfaceEnabled",get:function(){return window.Android}},{key:"glovoStoreIsEnabledForThisUser",get:function(){var e=Object.keys(this.glovoStores);return e.includes(this.userCountryCode)}},{key:"userCountryCode",get:function(){var e=this.user||{},t=e.city,s=void 0===t?{countryCode:""}:t;return s.countryCode}},{key:"shouldDisplayBagsItem",get:function(){return this.isAndroidInterfaceEnabled&&this.isBagsButtonEnabled&&this.glovoStoreIsEnabledForThisUser}},{key:"shouldDisplayRemitly",get:function(){return String(this.toggles.FE_PARTNERS_REMITLY_URL)!==$e["a"]}}]),s}(d["default"]);Object(l["c"])([y["a"].Getter(v["d"])],Ee.prototype,"user",void 0),Object(l["c"])([Object(p["b"])(Ce["b"])],Ee.prototype,"toggles",void 0),Ee=Object(l["c"])([Object(u["b"])({name:"HelpMenuItems",components:{HelpMenuBlog:re,HelpMenuMessage:me,HelpMenuContact:Oe,HelpMenuItem:se,HelpMenuRemitly:we}})],Ee);var Me=Ee,Te=Me,Re=(s("1373"),Object(j["a"])(Te,U,W,!1,null,"769d6938",null)),qe=Re.exports,Ne=function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){return Object(i["a"])(this,s),t.apply(this,arguments)}return s}(d["default"]);Ne=Object(l["c"])([Object(u["b"])({name:"HelpMenu",components:{Icon:b["a"],HelpMenuItems:qe}})],Ne);var Be=Ne,Le=Be,Pe=(s("2227"),Object(j["a"])(Le,G,K,!1,null,"211dc808",null)),Fe=Pe.exports,He=s("80a6"),Ve=function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){return Object(i["a"])(this,s),t.apply(this,arguments)}return s}(d["default"]);Ve=Object(l["c"])([Object(u["b"])({name:"Help",components:{HelpMenu:Fe,ModalWrapper:He["a"]}})],Ve);var Ge=Ve,Ke=Ge,Ue=(s("aa61"),Object(j["a"])(Ke,H,V,!1,null,"622cd6b8",null)),We=Ue.exports,Ye=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"support-component-create-ticket",class:{closed:!e.visible}},[s("div",{staticClass:"header"},[s("span",{staticClass:"dialog-title"},[e._v(" "+e._s(e.$t("support.title"))+" ")]),s("a",{staticClass:"minimize-btn",attrs:{"data-qa":"support-cancel"},on:{click:function(t){return e.cancel()}}},[s("font-awesome-icon",{attrs:{icon:"minus-square"}})],1)]),s("div",{staticClass:"dialog"},[e.visible?s("el-form",{ref:"form",attrs:{"label-position":"top","status-icon":"","label-width":"120px",model:e.form,rules:e.rules,"data-qa":"support-form"}},[s("el-form-item",{staticClass:"less-margin",attrs:{label:e.$t("support.name"),prop:"name"}},[s("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),s("el-form-item",{staticClass:"less-margin",attrs:{label:e.$t("support.subject"),prop:"subject"}},[s("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:e.form.subject,callback:function(t){e.$set(e.form,"subject",t)},expression:"form.subject"}})],1),e.selectedStoreAddressIds.length>1?s("el-form-item",{staticClass:"less-margin",attrs:{label:e.$t("order.store.address"),prop:"selectedId"}},[s("el-select",{attrs:{placeholder:e.$t("order.store.address")},model:{value:e.form.selectedId,callback:function(t){e.$set(e.form,"selectedId",t)},expression:"form.selectedId"}},e._l(e.selectedStoreAddressIds,(function(t){return s("el-option",{key:t,attrs:{label:e.selectedAddressName(t),value:t}})})),1)],1):e._e(),s("el-form-item",{attrs:{label:e.$t("support.description"),prop:"description"}},[s("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),s("el-form-item",{staticClass:"less-margin",attrs:{label:e.$t("support.problem"),prop:"problem"}},[s("el-select",{attrs:{placeholder:e.$t("support.problem"),"popper-class":"support-problem-options"},model:{value:e.form.problem,callback:function(t){e.$set(e.form,"problem",t)},expression:"form.problem"}},e._l(e.problems,(function(e){return s("el-option",{key:e.value,attrs:{"data-qa":e.value,label:e.label,value:e.value}})})),1)],1),e.shouldShowChangesInput?s("el-form-item",{attrs:{label:e.$t("support.modifications"),prop:"changes","data-qa":"changes-input"}},[s("el-input",{attrs:{type:"number"},model:{value:e.form.changes,callback:function(t){e.$set(e.form,"changes",t)},expression:"form.changes"}})],1):e._e(),s("el-form-item",{staticClass:"less-margin dialog-footer"},[s("el-button",{attrs:{type:"cancel"},on:{click:e.cancel}},[e._v(e._s(e.$t("common.cancel")))]),s("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(e._s(e.$t("support.send")))])],1)],1):e._e()],1)])},ze=[],Je=(s("4de4"),s("d81d"),s("5530")),Xe=s("aa25"),Qe=s("4d73"),Ze=[{kustomerValue:Qe["b"].INVOICING,translationKey:Qe["c"].INVOICING},{kustomerValue:Qe["b"].GENERAL_INFORMATION,translationKey:Qe["c"].GENERAL_INFORMATION},{kustomerValue:Qe["b"].DEVICE,translationKey:Qe["c"].DEVICE},{kustomerValue:Qe["b"].COURIER,translationKey:Qe["c"].COURIER},{kustomerValue:Qe["b"].TERMS_AND_CONDITIONS,translationKey:Qe["c"].TERMS_AND_CONDITIONS},{kustomerValue:Qe["b"].UPDATE_INFORMATION,translationKey:Qe["c"].UPDATE_INFORMATION},{kustomerValue:Qe["b"].CONTENT_MODIFICATIONS,translationKey:Qe["c"].CONTENT_MODIFICATIONS},{kustomerValue:Qe["b"].ORDERS,translationKey:Qe["c"].ORDERS},{kustomerValue:Qe["b"].SOLICIT_REMAKE,translationKey:Qe["c"].SOLICIT_REMAKE},{kustomerValue:Qe["b"].OTHER,translationKey:Qe["c"].OTHER}],et=function(e){return{subject:[{required:!0,message:e("support.input.subject"),trigger:"blur"}],description:[{required:!0,message:e("support.input.description"),trigger:"blur"}],problem:[{required:!0,message:e("support.input.problem"),trigger:"blur"}],selectedId:[{type:"number",required:!0,message:e("support.input.address"),trigger:"blur"}],changes:[{required:!0,message:e("support.input.changes"),trigger:"blur"}]}},tt={name:null,subject:null,description:null,problem:null,selectedId:null,changes:null},st=function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){var e;return Object(i["a"])(this,s),e=t.apply(this,arguments),e.form=Object(Je["a"])({},tt),e}return Object(o["a"])(s,[{key:"selectedAddressName",value:function(e){return this.storeAddresses[e].address}},{key:"submitForm",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.requestSupport({form:this.form,id:this.form.selectedId});case 3:return this.$notify({message:this.$t("support.request_sent"),type:"success"}),this.close(),e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e["catch"](0),this.$notify({message:this.$t("support.request_failed"),type:"error"}),console.error("Support ticket could not be sent - ".concat(e.t0)),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"submit",value:function(){var e=this;this.$refs["form"].validate((function(t){return!!t&&e.submitForm()}))}},{key:"cancel",value:function(){this.close()}},{key:"close",value:function(){this.reset(),this.$emit("close")}},{key:"reset",value:function(){this.form=Object(Je["a"])({},tt)}},{key:"shouldShowChangesInput",get:function(){return this.form.problem===Qe["b"].CONTENT_MODIFICATIONS}},{key:"problems",get:function(){var e=this,t=Ze;return this.toggles.FE_PARTNERS_NEW_CONTACT_REASON_ENABLED||(t=Ze.filter((function(e){var t=e.kustomerValue;return t!==Qe["b"].SOLICIT_REMAKE}))),t.map((function(t){var s=t.kustomerValue,n=t.translationKey;return{label:e.$t("support.problem.".concat(n)),value:s}}))}},{key:"rules",get:function(){return et(this.$t)}}]),s}(d["default"]);Object(l["c"])([Object(g["c"])()],st.prototype,"visible",void 0),Object(l["c"])([Object(p["b"])(Xe["g"])],st.prototype,"storeAddresses",void 0),Object(l["c"])([y["a"].Getter(v["f"])],st.prototype,"selectedStoreAddressIds",void 0),Object(l["c"])([Object(p["b"])(Ce["b"])],st.prototype,"toggles",void 0),Object(l["c"])([Object(p["a"])("requestSupport")],st.prototype,"requestSupport",void 0),st=Object(l["c"])([Object(u["b"])({name:"Support"})],st);var nt=st,at=nt,it=(s("aec2"),s("00ba"),Object(j["a"])(at,Ye,ze,!1,null,"73ba4974",null)),ot=it.exports,rt=function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){var e;return Object(i["a"])(this,s),e=t.apply(this,arguments),e.supportFormVisible=!1,e.glovoStores=Ie,e}return Object(o["a"])(s,[{key:"openGlovoStore",value:function(){var e=this.glovoStores[this.userCountryCode];window.open(e)}},{key:"changeAdminModalDisplay",value:function(e){this.changeModalDisplay({key:"ADMIN",display:e})}},{key:"changePermissionsModalDisplay",value:function(e){this.changeModalDisplay({key:"PERMISSIONS",display:e})}},{key:"changeHelpModalDisplay",value:function(e){this.changeModalDisplay({key:"HELP",display:e})}},{key:"exitAdmin",value:function(){this.setAdminMode(!1),this.changeAdminModalDisplay(!1),this.adminRoutes.includes(this.$route.name)&&this.$router.push({name:this.defaultCategory.route})}},{key:"toggleSupport",value:function(e){this.supportFormVisible=e}},{key:"openSupport",value:function(){this.changeHelpModalDisplay(!1),this.toggleSupport(!0)}},{key:"adminMode",get:function(){return this.isAdmin},set:function(e){e?this.changePermissionsModalDisplay(e):this.changeAdminModalDisplay(!0)}},{key:"isBagsButtonEnabled",get:function(){return this.toggles.FE_PARTNERS_ASK_FOR_BAGS}},{key:"isAndroidInterfaceEnabled",get:function(){return window.Android}},{key:"glovoStoreIsEnabledForThisUser",get:function(){var e=Object.keys(this.glovoStores);return e.includes(this.userCountryCode)}},{key:"shouldShowGlovoStoreButton",get:function(){return!this.isAndroidInterfaceEnabled&&this.toggles.FE_PARTNERS_ASK_FOR_BAGS&&this.glovoStoreIsEnabledForThisUser}},{key:"userCountryCode",get:function(){var e=this.user||{},t=e.city,s=void 0===t?{countryCode:""}:t;return s.countryCode}}]),s}(d["default"]);Object(l["c"])([Object(p["b"])("permissionsModalDisplayed")],rt.prototype,"permissionsModalDisplayed",void 0),Object(l["c"])([Object(p["b"])("adminModalDisplayed")],rt.prototype,"adminModalDisplayed",void 0),Object(l["c"])([Object(p["b"])("helpModalDisplayed")],rt.prototype,"helpModalDisplayed",void 0),Object(l["c"])([Object(p["b"])("defaultCategory")],rt.prototype,"defaultCategory",void 0),Object(l["c"])([y["a"].Getter(v["d"])],rt.prototype,"user",void 0),Object(l["c"])([y["a"].Getter(v["b"])],rt.prototype,"adminRoutes",void 0),Object(l["c"])([y["a"].Getter(v["g"])],rt.prototype,"isAdmin",void 0),Object(l["c"])([Object(p["a"])("changeModalDisplay")],rt.prototype,"changeModalDisplay",void 0),Object(l["c"])([y["a"].Action(v["l"])],rt.prototype,"setAdminMode",void 0),Object(l["c"])([Object(p["b"])(Ce["b"])],rt.prototype,"toggles",void 0),rt=Object(l["c"])([Object(u["b"])({name:"ProfileHeader",components:{GlovoBtn:D["a"],PermissionsModal:w["default"],ConfirmModal:F,HelpModal:We,Support:ot}})],rt);var ct=rt,lt=ct,ut=(s("345b"),Object(j["a"])(lt,S,A,!1,null,"7a289124",null)),dt=ut.exports,pt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tickets"},[s("h2",{staticClass:"tickets__title"},[e._v(e._s(e.$t("profile.ticket.print.title")))]),s("p",{staticClass:"tickets__subtitle"},[e._v(e._s(e.$t("profile.ticket.print.subtitle")))]),s("div",{staticClass:"tickets__menu"},[s("button",{staticClass:"tickets__menu__button",attrs:{"data-qa":"decrement-copies"},on:{click:e.decrementCopies}},[e._v(" - ")]),s("span",{staticClass:"tickets__menu__label",attrs:{"data-qa":"label"}},[e._v(" "+e._s(e.$tc("ticket",1===e.ticketCopies,{size:e.ticketCopies}))+" ")]),s("button",{staticClass:"tickets__menu__button",attrs:{"data-qa":"increment-copies"},on:{click:e.incrementCopies}},[e._v(" + ")])])])},ft=[],mt=function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){return Object(i["a"])(this,s),t.apply(this,arguments)}return Object(o["a"])(s,[{key:"decrementCopies",value:function(){this.ticketCopies>1&&this.setTicketCopies(this.ticketCopies-1)}},{key:"incrementCopies",value:function(){this.ticketCopies<4&&this.setTicketCopies(this.ticketCopies+1)}}]),s}(d["default"]);Object(l["c"])([Object(p["b"])("ticketCopies")],mt.prototype,"ticketCopies",void 0),Object(l["c"])([Object(p["a"])("setTicketCopies")],mt.prototype,"setTicketCopies",void 0),mt=Object(l["c"])([Object(u["b"])({name:"ProfileTickets"})],mt);var ht=mt,bt=ht,vt=(s("6e07"),Object(j["a"])(bt,pt,ft,!1,null,null,null)),yt=vt.exports,gt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"profile-stores"},[e.hasOneStoreAddressSelected?s("store-address-profile",{attrs:{"store-address-id":e.selectedStoreAddresses[0],loading:e.updatingSchedule,"data-qa":"store-address-profile"},on:{"update-schedule":e.updateAddressSchedule}},[s("contact-details",{directives:[{name:"loading",rawName:"v-loading",value:!e.hasDailyOperationContactLoaded(e.selectedStoreAddresses[0]),expression:"!hasDailyOperationContactLoaded(selectedStoreAddresses[0])"}],attrs:{"title-key":"profile.daily.operations.contact.title",update:function(){return e.updateDailyOperationContactDetails(e.selectedStoreAddresses[0])},"data-qa":"daily-operations-contact"},model:{value:e.contactDetails.dailyOperation[e.selectedStoreAddresses[0]],callback:function(t){e.$set(e.contactDetails.dailyOperation,e.selectedStoreAddresses[0],t)},expression:"contactDetails.dailyOperation[selectedStoreAddresses[0]]"}}),s("contact-details",{directives:[{name:"loading",rawName:"v-loading",value:!e.hasInvoicingContactLoaded(e.selectedStoreAddresses[0]),expression:"!hasInvoicingContactLoaded(selectedStoreAddresses[0])"}],attrs:{"title-key":"profile.invoicing.contact.title",update:function(){return e.updateInvoicingContactDetails(e.selectedStoreAddresses[0])},"data-qa":"invoicing-contact"},model:{value:e.contactDetails.invoicing[e.selectedStoreAddresses[0]],callback:function(t){e.$set(e.contactDetails.invoicing,e.selectedStoreAddresses[0],t)},expression:"contactDetails.invoicing[selectedStoreAddresses[0]]"}}),s("contact-details",{directives:[{name:"loading",rawName:"v-loading",value:!e.hasBusinessContactLoaded(e.selectedStoreAddresses[0]),expression:"!hasBusinessContactLoaded(selectedStoreAddresses[0])"}],attrs:{"title-key":"profile.business.contact.title",update:function(){return e.updateBusinessContactDetails(e.selectedStoreAddresses[0])},"data-qa":"business-contact"},model:{value:e.contactDetails.business[e.selectedStoreAddresses[0]],callback:function(t){e.$set(e.contactDetails.business,e.selectedStoreAddresses[0],t)},expression:"contactDetails.business[selectedStoreAddresses[0]]"}})],1):[s("h2",{staticClass:"profile-stores__title",attrs:{"data-qa":"title"}},[e._v(" "+e._s(e.$t("profile.store.title"))+" ")]),s("el-collapse",{staticClass:"profile-stores__list",attrs:{"data-qa":"profile-stores-collapse-menu",accordion:""},on:{change:e.updateStoreAddressInformation},model:{value:e.activeStoreAddress,callback:function(t){e.activeStoreAddress=t},expression:"activeStoreAddress"}},e._l(e.storeAddresses,(function(t){return s("el-collapse-item",{key:t.id,staticClass:"profile-stores__list__address",attrs:{name:t.id,"data-qa":"store-address-collapse-item"}},[s("template",{slot:"title"},[s("g-breadcrumb",{attrs:{sections:[t.city,t.store,t.address]}})],1),s("store-address-profile",{attrs:{"store-address-id":t.id,loading:e.updatingSchedule,"data-qa":"store-address-profile"},on:{"update-schedule":e.updateAddressSchedule}},[s("contact-details",{directives:[{name:"loading",rawName:"v-loading",value:!e.hasDailyOperationContactLoaded(t.id),expression:"!hasDailyOperationContactLoaded(storeAddress.id)"}],attrs:{"title-key":"profile.daily.operations.contact.title",update:function(){return e.updateDailyOperationContactDetails(t.id)},"data-qa":"daily-operations-contact"},model:{value:e.contactDetails.dailyOperation[t.id],callback:function(s){e.$set(e.contactDetails.dailyOperation,t.id,s)},expression:"contactDetails.dailyOperation[storeAddress.id]"}}),s("contact-details",{directives:[{name:"loading",rawName:"v-loading",value:!e.hasInvoicingContactLoaded(t.id),expression:"!hasInvoicingContactLoaded(storeAddress.id)"}],attrs:{"title-key":"profile.invoicing.contact.title",update:function(){return e.updateInvoicingContactDetails(t.id)},"data-qa":"invoicing-contact"},model:{value:e.contactDetails.invoicing[t.id],callback:function(s){e.$set(e.contactDetails.invoicing,t.id,s)},expression:"contactDetails.invoicing[storeAddress.id]"}}),s("contact-details",{directives:[{name:"loading",rawName:"v-loading",value:!e.hasBusinessContactLoaded(t.id),expression:"!hasBusinessContactLoaded(storeAddress.id)"}],attrs:{"title-key":"profile.business.contact.title",update:function(){return e.updateBusinessContactDetails(t.id)},"data-qa":"business-contact"},model:{value:e.contactDetails.business[t.id],callback:function(s){e.$set(e.contactDetails.business,t.id,s)},expression:"contactDetails.business[storeAddress.id]"}})],1)],2)})),1)]],2)},_t=[],Ot=(s("4160"),s("d3b7"),s("3ca3"),s("159b"),s("ddb0"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"contact"},[s("hr",{staticClass:"contact__separator"}),s("gui-form",{staticClass:"gui-grid",attrs:{"title-key":e.titleKey,"is-edit-mode":e.editMode,model:e.contact,actions:e.actions,"data-qa":"contact-form"},on:{"save-form":e.save,"edit-form":function(t){e.editMode=!0},"cancel-form":function(t){e.editMode=!1}}},[s("gui-text-field",{attrs:{required:"","label-key":"contact.details.name",prop:"name"},model:{value:e.contact.name,callback:function(t){e.$set(e.contact,"name",t)},expression:"contact.name"}}),s("gui-text-field",{attrs:{required:"",prop:"surname","label-key":"contact.details.surname"},model:{value:e.contact.surname,callback:function(t){e.$set(e.contact,"surname",t)},expression:"contact.surname"}}),s("gui-text-field",{attrs:{required:"",prop:"email",type:"email","label-key":"contact.details.email"},model:{value:e.contact.email,callback:function(t){e.$set(e.contact,"email",t)},expression:"contact.email"}}),s("gui-text-field",{attrs:{type:"email",prop:"secondEmail","label-key":"contact.details.second.email"},model:{value:e.contact.secondEmail,callback:function(t){e.$set(e.contact,"secondEmail",t)},expression:"contact.secondEmail"}}),s("gui-text-field",{attrs:{required:"",prop:"phone",type:"tel","label-key":"contact.details.phone"},model:{value:e.contact.phone,callback:function(t){e.$set(e.contact,"phone",t)},expression:"contact.phone"}}),s("gui-text-field",{attrs:{type:"tel",prop:"whatsApp","label-key":"contact.details.whatsapp"},model:{value:e.contact.whatsApp,callback:function(t){e.$set(e.contact,"whatsApp",t)},expression:"contact.whatsApp"}}),e._t("default")],2)],1)}),kt=[],jt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"g-form"},[e.isHeaderVisible?s("header",{staticClass:"g-form__header",attrs:{"data-qa":"header"}},[e._t("header",[s("h1",{staticClass:"g-form__header__title"},[e._v(" "+e._s(e.titleKey?e.$t(e.titleKey):e.title)+" ")])]),e.actions?e._t("header-actions",[s("div",{attrs:{"data-qa":"actions"}},e._l(e.actions,(function(t){return s("glovo-btn",{key:t.key,attrs:{type:"transparent-green",text:t.labelKey?e.$t(t.labelKey):t.label,"data-qa":"action"},on:{clack:function(){return e.doAction(t)}}})})),1)]):e._e()],2):e._e(),s("el-form",{ref:"internalForm",staticClass:"gui-inner-form",attrs:{model:e.model,"data-is-edit-mode":e.isEditMode}},[e._t("default")],2)],1)},Ct=[],xt={name:"GuiForm",components:{GlovoBtn:D["a"]},props:{titleKey:{type:String,default:null},title:{type:String,default:null},actions:{type:Array,default:function(){return[]}},isEditMode:{type:Boolean,default:!1},model:{type:Object,default:null}},computed:{isHeaderVisible:function(){return this.title||this.titleKey||this.actions&&this.actions.length}},methods:{doAction:function(e){var t=this;e.isValidationRequired?this.$refs.internalForm.validate((function(s){s?t.$emit(e.key):t.$emit("error")})):this.$emit(e.key)}}},St=xt,At=(s("8fce"),Object(j["a"])(St,jt,Ct,!1,null,"eb26f512",null)),Dt=At.exports,wt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("gui-field",{staticClass:"gui-text-field",attrs:{"label-key":e.labelKey,label:e.label,required:e.required,prop:e.prop,rules:e.inputRules,"is-edit-mode":e.editMode,"data-qa":"label"}},[s("span",{staticClass:"gui-text-field__text"},[e._v(e._s("tel"===e.type?e.$phone(e.text):e.text))]),s("gui-text-input",{attrs:{slot:"edit",type:e.inputType,placeholder:e.placeholderLabel,"placeholder-key":e.placeholderLabelKey,"data-qa":"textbox"},slot:"edit",model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1)},$t=[],It=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form-item",{staticClass:"gui-field",attrs:{rules:e.innerInputRules,label:e.labelText,prop:e.prop,"data-qa":"field"}},[e.isEditMode?s("div",{staticClass:"gui-field-edit",attrs:{"data-qa":"edit-mode"}},[e._t("edit")],2):s("div",{staticClass:"gui-field-view",attrs:{"data-qa":"view-mode"}},[e._t("default")],2)])},Et=[],Mt=s("2909"),Tt=function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){return Object(i["a"])(this,s),t.apply(this,arguments)}return Object(o["a"])(s,[{key:"labelText",get:function(){return this.labelKey&&this.$t(this.labelKey)||this.label}},{key:"innerInputRules",get:function(){var e=[];return this.rules&&e.push.apply(e,Object(Mt["a"])(this.rules)),this.required&&e.push({required:!0,message:this.$t("form.field.is.required",{field:this.labelText})}),e}}]),s}(d["default"]);Object(l["c"])([Object(g["c"])({default:""})],Tt.prototype,"label",void 0),Object(l["c"])([Object(g["c"])({default:null})],Tt.prototype,"labelKey",void 0),Object(l["c"])([Object(g["c"])({default:null})],Tt.prototype,"rules",void 0),Object(l["c"])([Object(g["c"])({default:null})],Tt.prototype,"prop",void 0),Object(l["c"])([Object(g["c"])({default:!1})],Tt.prototype,"required",void 0),Object(l["c"])([Object(g["c"])({default:!1})],Tt.prototype,"isEditMode",void 0),Tt=Object(l["c"])([Object(u["b"])({name:"Gui-Field"})],Tt);var Rt=Tt,qt=Rt,Nt=(s("2436"),Object(j["a"])(qt,It,Et,!1,null,"5168ae87",null)),Bt=Nt.exports,Lt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-input",{staticClass:"gui-text-input",attrs:{type:e.type,placeholder:e.placeholderKey?e.$t(e.placeholderKey):e.placeholder,"data-qa":"textbox"},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})},Pt=[],Ft={name:"GuiTextInput",props:{value:{type:String,default:null},type:{type:String,default:"text"},placeholder:{type:String,default:""},placeholderKey:{type:String,default:null}},computed:{text:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},Ht=Ft,Vt=(s("fd03"),Object(j["a"])(Ht,Lt,Pt,!1,null,"6c08cef6",null)),Gt=Vt.exports,Kt=s("44b1"),Ut={name:"GuiTextField",components:{GuiField:Bt,GuiTextInput:Gt},props:{labelKey:{type:String,default:null},prop:{type:String,default:null},type:{type:String,default:"text"},isEditMode:{type:Boolean,default:null},required:{type:Boolean,default:!1},placeholder:{type:String,default:null},placeholderKey:{type:String,default:null},label:{type:String,default:null},value:{type:String,default:null}},computed:{inputType:function(){return"email"===this.type||"tel"===this.type?"text":this.type},inputRules:function(){var e=this.rules||[];return"email"===this.type?e.push({type:"email",message:this.$t("form.validation.invalid.email")}):"tel"===this.type&&e.push({validator:Kt["a"].createPhoneValidator(this.$t("form.validation.invalid.phone")),message:this.$t("form.validation.invalid.phone")}),e},editMode:function(){return null==this.isEditMode?this.$parent&&this.$parent.$attrs["data-is-edit-mode"]||!1:this.isEditMode},placeholderLabel:function(){return null==this.placeholder?this.label:this.placeholder},placeholderLabelKey:function(){return null!=this.placeholderKey||this.placeholder?this.placeholderKey:this.labelKey},text:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},Wt=Ut,Yt=(s("3a8e"),Object(j["a"])(Wt,wt,$t,!1,null,"7586c1c2",null)),zt=Yt.exports,Jt=function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){var e;return Object(i["a"])(this,s),e=t.apply(this,arguments),e.editMode=!1,e.isDirty=!1,e}return Object(o["a"])(s,[{key:"setOriginalValue",value:function(e){this.isDirty=!1,this.originalValue={name:e.name,surname:e.surname,phone:e.phone,whatsApp:e.whatsApp,email:e.email,secondEmail:e.secondEmail}}},{key:"onValueChanged",value:function(e){this.setOriginalValue(e)}},{key:"onContactChanged",value:function(e){this.isDirty=this.hasContactChanged(this.originalValue,e)}},{key:"hasContactChanged",value:function(e,t){return null!=e&&null!=t&&(this.isDifferent(e.name,t.name)||this.isDifferent(e.surname,t.surname)||this.isDifferent(e.email,t.email)||this.isDifferent(e.secondEmail,t.secondEmail)||this.isDifferent(e.phone,t.phone)||this.isDifferent(e.whatsApp,t.whatsApp))}},{key:"isDifferent",value:function(e,t){return null==e&&(e=""),null==t&&(t=""),e!=t}},{key:"save",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.update();case 3:this.setOriginalValue(this.contact),this.editMode=!1,e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0),this.$message.error({message:this.$t("contact.details.form.save.failed")});case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"actions",get:function(){return this.editMode?this.isDirty?[{key:"save-form",labelKey:"common.action.save",isValidationRequired:!0}]:[{key:"cancel-form",labelKey:"common.action.cancel"}]:[{key:"edit-form",labelKey:"common.action.edit"}]}},{key:"contact",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),s}(d["default"]);Object(l["c"])([Object(g["c"])({default:null})],Jt.prototype,"titleKey",void 0),Object(l["c"])([Object(g["c"])({default:function(){return{name:null,surname:null,phone:null,whatsApp:null,email:null,secondEmail:null}}})],Jt.prototype,"value",void 0),Object(l["c"])([Object(g["c"])()],Jt.prototype,"update",void 0),Object(l["c"])([Object(g["d"])("value")],Jt.prototype,"onValueChanged",null),Object(l["c"])([Object(g["d"])("contact",{deep:!0})],Jt.prototype,"onContactChanged",null),Jt=Object(l["c"])([Object(u["b"])({name:"ContactDetails",components:{GuiTextField:zt,GuiForm:Dt}})],Jt);var Xt=Jt,Qt=Xt,Zt=(s("7bfc"),Object(j["a"])(Qt,Ot,kt,!1,null,"b39f3d9c",null)),es=Zt.exports,ts=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"profile-address",attrs:{loading:e.loading}},[s("div",{staticClass:"profile-address__header",style:{"background-image":e.bgImage}},[s("div",{staticClass:"profile-address__header__overlay"}),s("div",{staticClass:"profile-address__header__content",attrs:{"data-qa":"closing-days"}},[s("div",{staticClass:"profile-address__header__content__title"},[e._v(" "+e._s(e.store.name)+" ")]),s("div",{staticClass:"profile-address__header__content__status"},[e._v(" "+e._s(e.$t("profile.status.title"))+" "),s("span",{staticClass:"profile-address__header__content__status--uppercase",attrs:{"data-qa":"profile-address-header"}},[e._v(" "+e._s(e.$t(e.open?"common.open":"common.closed"))+" ")])])])]),s("div",{staticClass:"profile-address__container"},[s("div",{staticClass:"profile-address__container__calendar"},[s("h2",{staticClass:"profile-address__container__calendar__title"},[e._v(" "+e._s(e.$t("profile.calendar.title"))+" ")]),e.calendarLoading?s("div",{staticClass:"profile-address__container__calendar__loading",attrs:{"data-qa":"calendar-loading"}},e._l(e.closingDays,(function(e){return s("placeholder",{key:e.start,attrs:{name:"order",height:60,width:200,margins:!0}})})),1):0===e.closingDays.length?s("div",{attrs:{"data-qa":"calendar-empty"}},[e._v(" "+e._s(e.$t("profile.holidays.empty"))+" ")]):[s("ul",{staticClass:"profile-address__container__calendar__list",attrs:{"data-qa":"calendar-list"}},e._l(e.closingDays,(function(t,n){return s("li",{key:n,staticClass:"profile-address__container__calendar__list__item",attrs:{"data-qa":"closing-days"}},[s("div",{staticClass:"profile-address__container__calendar__list__item__box",attrs:{"data-qa":"closing-day"}},[s("div",{staticClass:"profile-address__container__calendar__list__item__box__content"},[s("div",[s("h3",{staticClass:"profile-address__container__calendar__list__item__box__content__title"},[e._v(" "+e._s(e.showHolidayDuration(t))+" ")]),s("span",[e._v(e._s(e.showYear(t)))])]),s("div",{attrs:{"data-qa":"delete-closing-day"}},[s("a",{attrs:{"data-qa":"remove-holidays"},on:{click:function(s){return e.removeHoliday(t)}}},[s("icon",{staticClass:"profile-address__container__calendar__list__item__box__content__delete",attrs:{name:"bin"}})],1)])])])])})),0)]],2),s("schedule",{staticClass:"profile-address__container__schedule",attrs:{"data-qa":"profile-schedule"},model:{value:e.storeAddress.openingTimes,callback:function(t){e.$set(e.storeAddress,"openingTimes",t)},expression:"storeAddress.openingTimes"}},[s("span",{staticClass:"profile-address__container__schedule__title",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.$t("profile.schedule.title"))+" ")]),s("glovo-btn",{attrs:{slot:"actions",text:e.$t("profile.schedule.edit"),type:"transparent-green","data-qa":"edit-schedule"},on:{clack:function(t){e.editSchedule=!0}},slot:"actions"})],1),e.editSchedule?s("el-dialog",{staticClass:"profile-address__container__popup",attrs:{visible:e.editSchedule,"close-on-click-modal":!1,"data-qa":"edit-schedule-popup",size:"full"},on:{"update:visible":function(t){e.editSchedule=t}}},[s("schedule",{attrs:{"edit-mode":!0,"is-modal-mode":!0,"data-qa":"profile-schedule-dialog"},scopedSlots:e._u([{key:"title",fn:function(){return[s("h1",[e._v(e._s(e.$t("profile.schedule.title")))])]},proxy:!0}],null,!1,1701264385),model:{value:e.tempOpeningTimes,callback:function(t){e.tempOpeningTimes=t},expression:"tempOpeningTimes"}},[s("template",{slot:"footer"},[s("glovo-btn",{attrs:{slot:"actions",type:"white-green",text:e.$t("profile.schedule.cancel"),uppercase:"true","data-qa":"profile-schedule-dialog-close"},on:{clack:e.closeScheduleDialog},slot:"actions"}),s("glovo-btn",{attrs:{slot:"actions",type:"green",text:e.$t("profile.schedule.save"),uppercase:"true","data-qa":"profile-schedule-dialog-save"},on:{clack:function(t){return e.saveSchedule(e.storeAddress.id)}},slot:"actions"})],1)],2)],1):e._e()],1),s("div",[e._t("default")],2)])},ss=[],ns=(s("99af"),s("1ba7")),as=s("7f45"),is=s.n(as),os=s("ce0d"),rs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"header"},[e._t("title"),e._t("actions")],2),s("div",{staticClass:"schedule",class:{edit:e.editMode}},e._l(e.weekdays,(function(t){return s("div",{key:t,staticClass:"schedule-day"},[s("div",{class:["schedule-day-title",{active:e.openDayIndex===t}],on:{click:function(s){return e.select(t)}}},[s("span",{staticClass:"schedule-day-title-name"},[e._v(" "+e._s(e.getDayForIndex(t))+" ")]),s("span",{staticClass:"schedule-day-title-schedule"},[s("schedule-shift",{attrs:{"read-only":!0},model:{value:e.schedule[t][0],callback:function(s){e.$set(e.schedule[t],0,s)},expression:"schedule[weekday][0]"}}),s("schedule-shift",{attrs:{"read-only":!0},model:{value:e.schedule[t][1],callback:function(s){e.$set(e.schedule[t],1,s)},expression:"schedule[weekday][1]"}})],1),e.editMode?s("span",{class:["arrow-icon",{active:e.openDayIndex===t}]}):e._e()]),e.editMode&&e.openDayIndex===t?s("div",{staticClass:"schedule-day-edit-form"},[e.isOpenForThisDay(t)?e._e():s("div",{staticClass:"schedule-day-edit-form__switch"},[e.isOpenForEditing?s("label",{attrs:{for:"edit-schedule"}},[e._v(" "+e._s(e.$t("common.open"))+" ")]):s("label",{attrs:{for:"edit-schedule"}},[e._v(" "+e._s(e.$t("common.closed"))+" ")]),s("el-switch",{attrs:{"on-color":e.switchColour.enabled,"off-color":e.switchColour.disabled,name:"edit-schedule","off-text":"","on-text":""},model:{value:e.isOpenForEditing,callback:function(t){e.isOpenForEditing=t},expression:"isOpenForEditing"}})],1),e.isOpenForEditing||e.isOpenForThisDay(t)?[s("schedule-shift",{attrs:{"read-only":!1},model:{value:e.openingTimes[t][0],callback:function(s){e.$set(e.openingTimes[t],0,s)},expression:"openingTimes[weekday][0]"}}),s("schedule-shift",{attrs:{"read-only":!1},model:{value:e.openingTimes[t][1],callback:function(s){e.$set(e.openingTimes[t],1,s)},expression:"openingTimes[weekday][1]"}})]:e._e()],2):e._e()])})),0),s("div",{staticClass:"footer-actions"},[e._t("footer")],2)])},cs=[],ls=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"schedule-shift",class:{edit:!e.readOnly}},[e.readOnly?[s("span",[e._v(e._s(e.shift.opening))]),s("span",{staticClass:"schedule-shift__separator"},[e._v("-")]),s("span",[e._v(e._s(e.shift.closing))])]:[s("label",[e._v(e._s(e.$t("profile.schedule.openingHour"))+" *")]),s("span"),s("label",[e._v(e._s(e.$t("profile.schedule.closingHour"))+" *")]),s("el-time-picker",{attrs:{"picker-options":e.pickerOptions,format:"HH:mm","value-format":"HH:mm","default-value":e.defaultOpeningTime,clearable:"","data-qa":"opening-time-picker"},model:{value:e.opening,callback:function(t){e.opening=t},expression:"opening"}}),s("span",[e._v("—")]),s("el-time-picker",{attrs:{"picker-options":e.pickerOptions,format:"HH:mm","value-format":"HH:mm","default-value":e.defaultClosingTime,clearable:"","data-qa":"closing-time-picker"},model:{value:e.closing,callback:function(t){e.closing=t},expression:"closing"}})]],2)},us=[],ds=(s("c975"),s("25f0"),s("1276"),{1:[],2:[],3:[],4:[],5:[],6:[],7:[]}),ps={start:"00:00",step:"00:30",end:"23:30",selectableRange:"00:00:00 - 23:59:59"},fs=function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){var e;return Object(i["a"])(this,s),e=t.apply(this,arguments),e.pickerOptions=ps,e.defaultTime=is()().utcOffset(0).startOf("day").toDate(),e}return Object(o["a"])(s,[{key:"createDateTime",value:function(e){if(!e||-1===e.toString().indexOf(":"))return null;var t=e.toString().split(":");if(t.length<2)return null;var s=new Date;return s.setHours(parseInt(t[0])),s.setMinutes(parseInt(t[1])),s}},{key:"formatTime",value:function(e){if(!e)return null;var t=e.getHours(),s=e.getMinutes();return"".concat(t<10?"0":"").concat(t,":").concat(s<10?"0":"").concat(s)}},{key:"shift",get:function(){return this.value},set:function(e){this.$emit("input",e)}},{key:"opening",get:function(){return this.createDateTime(this.shift.opening)},set:function(e){this.shift={opening:e?this.formatTime(e):null,closing:this.shift.closing}}},{key:"defaultOpeningTime",get:function(){return this.opening?this.opening:this.defaultTime}},{key:"closing",get:function(){return this.createDateTime(this.shift.closing)},set:function(e){this.shift={opening:this.shift.opening,closing:e?this.formatTime(e):null}}},{key:"defaultClosingTime",get:function(){return this.closing?this.closing:this.defaultTime}}]),s}(d["default"]);Object(l["c"])([Object(g["c"])({default:!1})],fs.prototype,"readOnly",void 0),Object(l["c"])([Object(g["c"])({default:function(){return{opening:null,closing:null}}})],fs.prototype,"value",void 0),fs=Object(l["c"])([Object(u["b"])({name:"ScheduleShift"})],fs);var ms=fs,hs=ms,bs=(s("32d7"),s("c71c"),Object(j["a"])(hs,ls,us,!1,null,"77707ce5",null)),vs=bs.exports,ys=s("9997"),gs=function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){var e;return Object(i["a"])(this,s),e=t.apply(this,arguments),e.switchColour={enabled:ys["green"],disabled:ys["greyC1"]},e.openDayIndex=-1,e.isOpenForEditing=!1,e}return Object(o["a"])(s,[{key:"isOpenForThisDay",value:function(e){return!!this.schedule[e]&&(this.hasValidOpeningAndClosingTime(e,0)||this.hasValidOpeningAndClosingTime(e,1))}},{key:"hasValidOpeningAndClosingTime",value:function(e,t){return Boolean(this.schedule[e][t]&&this.schedule[e][t].opening&&this.schedule[e][t].closing)}},{key:"select",value:function(e){this.editMode&&(this.openDayIndex=this.openDayIndex===e?-1:e)}},{key:"getDayForIndex",value:function(e){var t=["common.day1","common.day2","common.day3","common.day4","common.day5","common.day6","common.day7"],s=["common.day.mon","common.day.tue","common.day.wed","common.day.thu","common.day.fri","common.day.sat","common.day.sun"],n=this.isModalInDesktop?t:s,a=1===e?7:e-1,i=n[a-1];return this.$t(i)}},{key:"weekdays",get:function(){for(var e=[],t=this.firstDayOfWeek-1,s=0;s<7;s++){var n=(t+s)%7+1;e.push(n)}return e}},{key:"schedule",get:function(){var e=Object(Je["a"])({},ds);for(var t in this.value)e[t]=this.value[t];return e}},{key:"isModalInDesktop",get:function(){return this.isModalMode&&this.isDesktop}},{key:"openingTimes",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),s}(d["default"]);Object(l["c"])([Object(g["c"])({default:!1})],gs.prototype,"editMode",void 0),Object(l["c"])([Object(g["c"])({default:function(){return ds}})],gs.prototype,"value",void 0),Object(l["c"])([Object(g["c"])({default:2})],gs.prototype,"firstDayOfWeek",void 0),Object(l["c"])([Object(g["c"])({default:!1})],gs.prototype,"isModalMode",void 0),Object(l["c"])([Object(p["b"])("isDesktop")],gs.prototype,"isDesktop",void 0),gs=Object(l["c"])([Object(u["b"])({name:"Schedule",components:{ScheduleShift:vs}})],gs);var _s=gs,Os=_s,ks=(s("b30f"),Object(j["a"])(Os,rs,cs,!1,null,"2555074c",null)),js=ks.exports,Cs=function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){var e;return Object(i["a"])(this,s),e=t.apply(this,arguments),e.editSchedule=!1,e.calendarLoading=!1,e.tempOpeningTimes=Object(Je["a"])({},ds),e}return Object(o["a"])(s,[{key:"mounted",value:function(){this.resetTempOpeningTimes()}},{key:"resetTempOpeningTimes",value:function(){var e=Object(Je["a"])({},ds),t=this.storeAddress.openingTimes;for(var s in t)if(t.hasOwnProperty(s)){var n=s,a=t[n],i=a[0]||{opening:null,closing:null},o=a[1]||{opening:null,closing:null};e[n]=[{opening:i.opening,closing:i.closing},{opening:o.opening,closing:o.closing}]}this.tempOpeningTimes=e}},{key:"closeScheduleDialog",value:function(){this.resetTempOpeningTimes(),this.editSchedule=!1}},{key:"saveSchedule",value:function(e){this.$emit("update-schedule",{storeAddressId:e,schedule:this.tempOpeningTimes}),this.editSchedule=!1}},{key:"showYear",value:function(e){return is()(e.start).year()===is()(e.end).year()?is()(e.start).year():"".concat(is()(e.start).year()," - ").concat(is()(e.end).year())}},{key:"showMonth",value:function(e){return is()(e).format("DD/MMM")}},{key:"showHolidayDuration",value:function(e){var t=this.showMonth(e.start),s=this.showMonth(e.end);return"".concat(t," - ").concat(s)}},{key:"removeHoliday",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.calendarLoading=!0,e.next=3,this.removeClosingDay({interval:t,storeAddressId:this.storeAddress.id});case 3:this.calendarLoading=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"bgImage",get:function(){if(this.user){var e=window.innerWidth;return"url(".concat(ns["i"],"c_fill,h_230,w_").concat(e,"/").concat(this.user.store.imageId,")")}return""}},{key:"storeAddress",get:function(){return this.storeAddresses[this.storeAddressId]}},{key:"store",get:function(){return this.stores[this.storeAddress.parentStoreId]}}]),s}(d["default"]);Object(l["c"])([Object(g["c"])({required:!0})],Cs.prototype,"storeAddressId",void 0),Object(l["c"])([Object(g["c"])({default:!1})],Cs.prototype,"loading",void 0),Object(l["c"])([Object(p["b"])("isDesktop")],Cs.prototype,"isDesktop",void 0),Object(l["c"])([Object(p["b"])("closingDays")],Cs.prototype,"closingDays",void 0),Object(l["c"])([Object(p["b"])("open")],Cs.prototype,"open",void 0),Object(l["c"])([Object(p["b"])(Xe["g"])],Cs.prototype,"storeAddresses",void 0),Object(l["c"])([Object(p["b"])(Xe["f"])],Cs.prototype,"stores",void 0),Object(l["c"])([y["a"].Getter(v["d"])],Cs.prototype,"user",void 0),Object(l["c"])([Object(p["a"])("displayState")],Cs.prototype,"displayState",void 0),Object(l["c"])([Object(p["a"])("changeModalDisplay")],Cs.prototype,"changeModalDisplay",void 0),Object(l["c"])([Object(p["a"])("removeClosingDay")],Cs.prototype,"removeClosingDay",void 0),Object(l["c"])([Object(p["a"])("setTicketCopies")],Cs.prototype,"setTicketCopies",void 0),Cs=Object(l["c"])([Object(u["b"])({name:"StoreAddressProfile",components:{Schedule:js,Placeholder:os["a"],GlovoBtn:D["a"],Icon:b["a"]}})],Cs);var xs=Cs,Ss=xs,As=(s("e793"),Object(j["a"])(Ss,ts,ss,!1,null,"59f460ab",null)),Ds=As.exports,ws=s("e076"),$s=function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){var e;return Object(i["a"])(this,s),e=t.apply(this,arguments),e.loading=!1,e.updatingSchedule=!1,e.contactDetails={invoicing:{},business:{},dailyOperation:{}},e}return Object(o["a"])(s,[{key:"mounted",value:function(){this.updateInformationForSingleView()}},{key:"onSelectedStoreAddressesChange",value:function(){this.updateInformationForSingleView()}},{key:"getInvoicingContactDetailsByStoreAddressId",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.hasInvoicingContactLoaded(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getInvoicingContactDetails(t);case 4:s=e.sent,this.$set(this.contactDetails.invoicing,t,s);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBusinessContactDetailsByStoreAddressId",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.hasBusinessContactLoaded(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getBusinessContactDetails(t);case 4:s=e.sent,this.$set(this.contactDetails.business,t,s);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDailyOperationContactDetailsByStoreAddressId",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.hasDailyOperationContactLoaded(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getDailyOperationContactDetails(t);case 4:s=e.sent,this.$set(this.contactDetails.dailyOperation,t,s);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateStoreAddressInformation",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return this.loading=!0,e.next=4,Promise.all([this.getStatus(t),this.getClosingDays(t),this.getInvoicingContactDetailsByStoreAddressId(t),this.getBusinessContactDetailsByStoreAddressId(t),this.getDailyOperationContactDetailsByStoreAddressId(t)]);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateAddressSchedule",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.updatingSchedule=!0,e.next=4,this.updateSchedule(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.error(e.t0);case 9:return e.prev=9,this.updatingSchedule=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[0,6,9,12]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateInvoicingContactDetails",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=this.contactDetails.invoicing[t],e.next=3,this.setInvoicingContactDetails({storeAddressId:t,contact:s});case 3:this.$set(this.contactDetails.invoicing,t,s);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateBusinessContactDetails",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=this.contactDetails.business[t],e.next=3,this.setBusinessContactDetails({storeAddressId:t,contact:s});case 3:this.$set(this.contactDetails.business,t,s);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateDailyOperationContactDetails",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=this.contactDetails.dailyOperation[t],e.next=3,this.setDailyOperationContactDetails({storeAddressId:t,contact:s});case 3:this.$set(this.contactDetails.dailyOperation,t,s);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"hasInvoicingContactLoaded",value:function(e){return!(!this.contactDetails||!this.contactDetails.invoicing[e])}},{key:"hasBusinessContactLoaded",value:function(e){return!(!this.contactDetails||!this.contactDetails.business[e])}},{key:"hasDailyOperationContactLoaded",value:function(e){return!(!this.contactDetails||!this.contactDetails.dailyOperation[e])}},{key:"updateInformationForSingleView",value:function(){1===this.selectedStoreAddresses.length&&this.updateStoreAddressInformation(this.selectedStoreAddresses[0])}},{key:"getSelectedAddresses",value:function(e){var t=this,s=[];return e.forEach((function(e){var n=e.code,a=e.stores;a.forEach((function(e){var a=e.storeAddresses,i=e.name;a.forEach((function(e){var a=e.id,o=e.address,r=e.closedUntil,c=e.details,l=e.openingTimes;if(t.selectedStoreAddresses.includes(a)){var u={id:a,store:i,city:n,address:o,closedUntil:r,details:c,openingTimes:l};s.push(u)}}))}))})),s}},{key:"storeAddresses",get:function(){if(this.user&&this.user.cities)return this.getSelectedAddresses(this.user.cities)}},{key:"hasOneStoreAddressSelected",get:function(){return 1===this.selectedStoreAddresses.length}},{key:"activeStoreAddress",get:function(){return this.hasOneStoreAddressSelected?this.selectedStoreAddresses[0]:null},set:function(e){}}]),s}(d["default"]);Object(l["c"])([y["a"].Getter(v["d"])],$s.prototype,"user",void 0),Object(l["c"])([y["a"].Getter(v["f"])],$s.prototype,"selectedStoreAddresses",void 0),Object(l["c"])([Object(p["a"])("getStatus")],$s.prototype,"getStatus",void 0),Object(l["c"])([Object(p["a"])("getClosingDays")],$s.prototype,"getClosingDays",void 0),Object(l["c"])([Object(p["a"])("getInvoicingContactDetails")],$s.prototype,"getInvoicingContactDetails",void 0),Object(l["c"])([Object(p["a"])("getBusinessContactDetails")],$s.prototype,"getBusinessContactDetails",void 0),Object(l["c"])([Object(p["a"])("getDailyOperationContactDetails")],$s.prototype,"getDailyOperationContactDetails",void 0),Object(l["c"])([Object(p["a"])("updateSchedule")],$s.prototype,"updateSchedule",void 0),Object(l["c"])([Object(p["a"])("setInvoicingContactDetails")],$s.prototype,"setInvoicingContactDetails",void 0),Object(l["c"])([Object(p["a"])("setBusinessContactDetails")],$s.prototype,"setBusinessContactDetails",void 0),Object(l["c"])([Object(p["a"])("setDailyOperationContactDetails")],$s.prototype,"setDailyOperationContactDetails",void 0),Object(l["c"])([Object(g["d"])("selectedStoreAddresses")],$s.prototype,"onSelectedStoreAddressesChange",null),$s=Object(l["c"])([Object(u["b"])({name:"ProfileStores",components:{ContactDetails:es,GBreadcrumb:ws["a"],StoreAddressProfile:Ds}})],$s);var Is=$s,Es=Is,Ms=(s("cd04"),Object(j["a"])(Es,gt,_t,!1,null,null,null)),Ts=Ms.exports,Rs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"profile-footer"},[s("div",{staticClass:"profile-footer__language"},[s("el-select",{attrs:{"popper-class":"language-selector"},on:{change:e.changeLang},model:{value:e.currentLang,callback:function(t){e.currentLang=t},expression:"currentLang"}},e._l(e.langs,(function(t){return s("el-option",{key:t.code,attrs:{label:e.capitaliseLangOption(t.code),value:t.code}},[s("span",[e._v(e._s(e.$t(t.label)))])])})),1)],1),s("div",{staticClass:"profile-footer__logout"},[s("glovo-btn",{attrs:{"use-new-styling":!0,text:e.$t("profile.logout"),type:"white-green",icon:"log-out","data-qa":"logout-button"},on:{clack:e.logoutButtonDidClack}})],1)])},qs=[],Ns=(s("fb6a"),s("c5e9")),Bs=s("41bf"),Ls=function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){var e;return Object(i["a"])(this,s),e=t.apply(this,arguments),e.currentLang=null,e.langs=Ns["a"],e}return Object(o["a"])(s,[{key:"mounted",value:function(){this.currentLang=this.$i18n.locale}},{key:"changeLang",value:function(e){this.$i18n.locale=e,is.a.locale(e),Bs["a"].set(Bs["a"].items.LANG,e)}},{key:"logoutButtonDidClack",value:function(){this.logout()}},{key:"capitaliseLangOption",value:function(e){return e[0].toUpperCase()+e.slice(1,2)}}]),s}(d["default"]);Object(l["c"])([y["a"].Action(v["j"])],Ls.prototype,"logout",void 0),Ls=Object(l["c"])([Object(u["b"])({name:"ProfileFooter",components:{GlovoBtn:D["a"]}})],Ls);var Ps=Ls,Fs=Ps,Hs=(s("1c9b"),Object(j["a"])(Fs,Rs,qs,!1,null,"6ed50166",null)),Vs=Hs.exports,Gs=s("72d6"),Ks=function(e){Object(r["a"])(s,e);var t=Object(c["a"])(s);function s(){return Object(i["a"])(this,s),t.apply(this,arguments)}return Object(o["a"])(s,[{key:"beforeMount",value:function(){this.displayState(Gs["DISPLAY_PROFILE"])}}]),s}(d["default"]);Object(l["c"])([Object(p["b"])("isDesktop")],Ks.prototype,"isDesktop",void 0),Object(l["c"])([Object(p["a"])("displayState")],Ks.prototype,"displayState",void 0),Ks=Object(l["c"])([Object(u["b"])({name:"Profile",components:{ProfileCommunication:x,ProfileHeader:dt,ProfileTickets:yt,ProfileStores:Ts,ProfileFooter:Vs}})],Ks);var Us=Ks,Ws=Us,Ys=(s("a48b"),Object(j["a"])(Ws,n,a,!1,null,"0ac7fc10",null));t["default"]=Ys.exports},babf:function(e,t,s){},c56f:function(e,t,s){},c71c:function(e,t,s){"use strict";s("ffc1")},c8d4:function(e,t,s){},cb14:function(e,t,s){},cb57:function(e,t,s){},cd04:function(e,t,s){"use strict";s("2f6d")},d148:function(e,t,s){},d212:function(e,t,s){},d705:function(e,t,s){},dce4:function(e,t,s){},e076:function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"g-breadcrumb"},e._l(e.sections,(function(t,n){return s("span",{key:""+t+n,staticClass:"g-breadcrumb__item"},[e._v(" "+e._s(t)+" ")])})),0)},a=[],i={name:"GBreadcrumb",props:{sections:{type:Array,required:!0}},data:function(){return{}}},o=i,r=(s("28f8"),s("2877")),c=Object(r["a"])(o,n,a,!1,null,null,null);t["a"]=c.exports},e6ac:function(e,t,s){},e793:function(e,t,s){"use strict";s("ae01")},e849:function(e,t,s){},ec27:function(e,t,s){"use strict";s("93f3")},ed83:function(e,t,s){},f3f7:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"permissions-popup"}},[s("transition",{attrs:{name:"modal"}},[s("div",{staticClass:"permissions-modal-mask"},[s("div",{staticClass:"permissions-modal-wrapper"},[s("permissions",{attrs:{popup:!0},on:{close:function(t){return e.$emit("close")},accept:function(t){return e.$emit("accept")}}})],1)])])],1)},a=[],i=s("6320"),o={name:"PermissionsPopup",components:{Permissions:i["default"]},data:function(){return{}}},r=o,c=(s("ec27"),s("2877")),l=Object(c["a"])(r,n,a,!1,null,"c79a3c1a",null);t["default"]=l.exports},f915:function(e,t,s){},fbfa:function(e,t,s){"use strict";s("ed83")},fd03:function(e,t,s){"use strict";s("1e67")},ffc1:function(e,t,s){}}]);