(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ae9cf8c"],{"0714":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"store-widget"},[s("el-popover",{attrs:{"visible-arrow":!1,"popper-class":"store-popper",trigger:"click",width:"400",placement:"bottom-start"},model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}},[s("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v(" "+e._s(e.$t("order.stores")+" ("+e.numberOfSelectedAddresses+")")+" "),s("font-awesome-icon",{attrs:{icon:"caret-down"}})],1),s("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},model:{value:e.selectAll,callback:function(t){e.selectAll=t},expression:"selectAll"}},[e._v(" "+e._s(e.$t("common.select.all"))+" ")]),s("el-tree",{ref:"storeAddressTree",attrs:{data:e.storeAddresses,"default-checked-keys":e.selectedStoreAddresses,"default-expanded-keys":e.selectedStoreAddresses,"node-key":"id","show-checkbox":""},on:{"check-change":e.updateStoreAddressesSelection}}),s("glovo-btn",{attrs:{text:e.$t("reports.filter.button"),uppercase:!0,bold:!0,type:"green"},nativeOn:{click:function(t){return e.applySelectedChanges(t)}}})],1)],1)},d=[],n=(s("d81d"),s("b0c0"),s("5530")),i=s("2f62"),c=s("314e"),o=s("40c5"),a={name:"StoreWidget",components:{GlovoBtn:c["a"]},data:function(){return{isVisible:!1,selectedAddresses:[]}},computed:Object(n["a"])(Object(n["a"])({},Object(i["c"])("authentication",[o["d"],o["f"],o["c"]])),{},{user:function(){return this[o["d"]]},selectedStoreAddresses:function(){return this[o["f"]]},availableStoreAddresses:function(){return this[o["c"]]},selectAll:{get:function(){return this.selectedAddresses.length===this.availableStoreAddresses.length},set:function(e){var t=e?this.availableStoreAddresses:[];this.$refs.storeAddressTree.setCheckedKeys(t)}},isIndeterminate:function(){return 0!==this.selectedAddresses.length&&this.selectedAddresses.length!==this.availableStoreAddresses.length},numberOfSelectedAddresses:function(){return this.selectedStoreAddresses.length},storeAddresses:function(){var e=[];return this.user&&this.user.cities&&(e=this.mapCities(this.user.cities)),e}}),mounted:function(){this.selectedAddresses=this.selectedStoreAddresses},methods:Object(n["a"])(Object(n["a"])({},Object(i["b"])("authentication",[o["m"]])),{},{updateSelectedStoreAddresses:function(e){this[o["m"]](e)},applySelectedChanges:function(){this.updateSelectedStoreAddresses(this.selectedAddresses),this.isVisible=!1},updateStoreAddressesSelection:function(e){e.isLeaf&&(this.selectedAddresses=this.$refs.storeAddressTree.getCheckedKeys(!0))},mapCities:function(e){return e.map(this.mapCity)},mapCity:function(e){return Object(n["a"])(Object(n["a"])({},e),{},{label:e.name,id:e.code,children:this.mapStores(e.stores)})},mapStores:function(e){return e&&e.length>0?e.map(this.mapStore):[]},mapStore:function(e){return Object(n["a"])(Object(n["a"])({},e),{},{label:e.name,id:e.id,children:this.mapStoreAddresses(e.storeAddresses)})},mapStoreAddresses:function(e){return e&&e.length>0?e.map(this.mapStoreAddress):[]},mapStoreAddress:function(e){return Object(n["a"])(Object(n["a"])({},e),{},{label:e.address,id:e.id,isLeaf:!0})}})},l=a,u=(s("6d65"),s("2877")),h=Object(u["a"])(l,r,d,!1,null,null,null);t["default"]=h.exports},"6d65":function(e,t,s){"use strict";s("a84c")},a84c:function(e,t,s){}}]);