{"version":3,"sources":["webpack:///./src/components/main/content/reports/History.vue?0c4e","webpack:///./src/components/main/popups/FilterPopup.vue?0b97","webpack:///./src/components/main/content/reports/History.vue?5697","webpack:///./src/components/main/popups/FilterPopup.vue?4ee5","webpack:///src/components/main/popups/FilterPopup.vue","webpack:///./src/components/main/popups/FilterPopup.vue?e84e","webpack:///./src/components/main/popups/FilterPopup.vue","webpack:///src/components/main/content/reports/History.vue","webpack:///./src/components/main/content/reports/History.vue?d78b","webpack:///./src/components/main/content/reports/History.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","attrs","shouldShowOrderDetailsDialog","on","changeOrderDetailVisibility","_e","_v","_s","$t","nativeOn","$event","type","indexOf","_k","keyCode","key","searchByCode","model","searchFilter","callback","$$v","$set","slot","filterModalDisplayed","selectedFilters","refresh","filteredIds","activeNames","_f","sales","total","cashTotal","cardTotal","totalRefund","cancelledTotal","netValue","totalOrders","cashOrders","cardOrders","avgOrderValue","excel","_l","reportOrders","pagination","currentPage","order","id","showOrderDetail","dispatchingTime","code","refundIncident","reason","hasBadRatings","currentStatus","totalPrice","paymentMethod","pickupCodeText","cityName","storeName","storeAddress","modifiers","totalPages","handleSizeChange","handleCurrentChange","changeFilterModalDisplay","isMCD","updateSelectedAddresses","filterReports","staticRenderFns","dialogVisible","handleClose","availableStoreAddresses","length","selectedStoreAddresses","updateSelectedIdsForFiltering","filterOptions","incidents","period","pickerOptions","option","text","changeDate","form","cleanFilter","filterForm","actionDisabled","saveParameters","components","GlovoBtn","StoreAddressSelector","props","mcd","Boolean","Function","required","data","start","end","badRating","cancelled","orderWithRefund","courierPaidWithCash","orderPaidWithCard","shortcuts","all","$i18n","t","values","today","yesterday","lastWeek","custom","filteredStoreAddressIds","computed","get","set","$emit","watch","Object","assign","methods","valueOf","ids","onlyCash","card","component","Icon","FilterPopup","HistoryOrderDetails","Pair","orderDetail","isLoadingDetails","filter","user","filters","storeAddressIds","mounted","displayState","activated","visibilty","setStatistics","setReportOrders","page","exportToExcel","updateSearch","config"],"mappings":"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","file":"js/view-History-vue.1a2ec620.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterPopup.vue?vue&type=style&index=0&lang=scss&scope=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"reports_section\"},[(_vm.shouldShowOrderDetailsDialog)?_c('el-dialog',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoadingDetails),expression:\"isLoadingDetails\"}],staticClass:\"history-order-detail\",attrs:{\"visible\":_vm.shouldShowOrderDetailsDialog},on:{\"visible-change\":_vm.changeOrderDetailVisibility}},[_c('history-order-details',{on:{\"backAction\":function () { return _vm.changeOrderDetailVisibility(false); }}})],1):_vm._e(),_c('h2',[_vm._v(_vm._s(_vm.$t('tab.history')))]),_c('div',{staticClass:\"reports_header\"},[_c('div',{staticClass:\"filter_section_content_order filter_section_content_step\"},[_c('br'),_c('el-input',{staticClass:\"input-with-select search-input\",attrs:{\"placeholder\":_vm.$t('reports.filter.order.hint')},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.searchByCode($event)}},model:{value:(_vm.searchFilter.code),callback:function ($$v) {_vm.$set(_vm.searchFilter, \"code\", $$v)},expression:\"searchFilter.code\"}},[_c('el-button',{attrs:{\"slot\":\"append\"},on:{\"click\":_vm.searchByCode},slot:\"append\"},[_c('font-awesome-icon',{attrs:{\"icon\":\"search\"}})],1)],1),_c('button',{staticClass:\"el-dialog__clearbtn green_btn\",on:{\"click\":function($event){_vm.filterModalDisplayed = true}}},[_vm._v(\" \"+_vm._s(_vm.$t('reports.filter'))+\" \"),(_vm.selectedFilters)?_c('span',{staticClass:\"show-selected-filters\"},[_vm._v(\" \"+_vm._s(_vm.selectedFilters)+\" \")]):_vm._e()]),_c('div',{staticClass:\"reports_header_refresh\",on:{\"click\":function($event){return _vm.refresh(_vm.filteredIds)}}},[_c('icon',{attrs:{\"name\":\"refresh_icon\"}})],1),_c('br'),_c('br')],1)]),_c('el-collapse',{model:{value:(_vm.activeNames),callback:function ($$v) {_vm.activeNames=$$v},expression:\"activeNames\"}},[_c('el-collapse-item',{attrs:{\"title\":_vm.$t('summary.title'),\"name\":\"1\"}},[_c('div',{staticClass:\"left_summary\"},[_c('pair',{staticClass:\"bold\",attrs:{\"left\":_vm.$t('reports.history.sales.title'),\"right\":_vm._f(\"currency\")(_vm.sales.total)}}),_c('pair',{attrs:{\"left\":_vm.$t('reports.history.sales.cash'),\"right\":_vm._f(\"currency\")(_vm.sales.cashTotal)}}),_c('pair',{attrs:{\"left\":_vm.$t('reports.history.sales.card'),\"right\":_vm._f(\"currency\")(_vm.sales.cardTotal)}}),_c('div',{staticClass:\"separator\"}),_c('pair',{staticClass:\"bold\",attrs:{\"left\":_vm.$t('reports.history.sales.refund'),\"right\":_vm._f(\"currency\")((0 - _vm.sales.totalRefund))}}),_c('pair',{staticClass:\"bold\",attrs:{\"left\":_vm.$t('reports.history.sales.cancellation'),\"right\":_vm._f(\"currency\")(-_vm.sales.cancelledTotal)}}),_c('div',{staticClass:\"separator strong\"}),_c('pair',{staticClass:\"bold\",attrs:{\"left\":_vm.$t('reports.history.sales.netvalue'),\"right\":_vm._f(\"currency\")(_vm.sales.netValue)}})],1),_c('div',{staticClass:\"right_summary\"},[_c('pair',{staticClass:\"bold\",attrs:{\"left\":_vm.$t('reports.history.sales.total.order'),\"right\":_vm.sales.totalOrders}}),_c('pair',{attrs:{\"left\":_vm.$t('reports.history.sales.cash'),\"right\":_vm.sales.cashOrders}}),_c('pair',{attrs:{\"left\":_vm.$t('reports.history.sales.card'),\"right\":_vm.sales.cardOrders}}),_c('div',{staticClass:\"separator\"}),_c('pair',{staticClass:\"bold\",attrs:{\"left\":_vm.$t('reports.history.sales.avg'),\"right\":_vm._f(\"currency\")(_vm.sales.avgOrderValue)}}),_c('div',{staticClass:\"separator\"})],1)])],1),_c('br'),_c('div',{staticClass:\"history-results\"},[_c('div',{staticClass:\"reports_header_preview_data_time\"},[_vm._v(\" \"+_vm._s(_vm.$t('reports.history.time.title'))+\" \")]),_c('div',{staticClass:\"reports_header_export\"},[_c('a',{staticClass:\"green_btn\",attrs:{\"title\":\"export\"},on:{\"click\":function($event){return _vm.excel()}}},[_vm._v(\" \"+_vm._s(_vm.$t('reports.history.export'))+\" \")])]),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"reports_list\"},[_c('div',{staticClass:\"reports_list_table\"},[_c('div',{staticClass:\"reports_list_body_row reports_list_head\"},[_c('div',{staticClass:\"reports_list_body_td reports_list_body_th\"},[_c('span',[_vm._v(_vm._s(_vm.$t('reports.history.date')))])]),_c('div',{staticClass:\"reports_list_body_td reports_list_body_th\"},[_vm._v(\" \"+_vm._s(_vm.$t('reports.history.orderId'))+\" \")]),_c('div',{staticClass:\"reports_list_body_td reports_list_body_th\"},[_vm._v(\" \"+_vm._s(_vm.$t('order.products.price'))+\" \")]),_c('div',{staticClass:\"reports_list_body_td reports_list_body_th\"},[_vm._v(\" \"+_vm._s(_vm.$t('ticket.pickup.code'))+\" \")]),_c('div',{staticClass:\"reports_list_body_td reports_list_body_th\"},[_vm._v(\" \"+_vm._s(_vm.$t('order.store.city'))+\" \")]),_c('div',{staticClass:\"reports_list_body_td reports_list_body_th\"},[_vm._v(\" \"+_vm._s(_vm.$t('order.store.name'))+\" \")]),_c('div',{staticClass:\"reports_list_body_td reports_list_body_td_wide reports_list_body_th\"},[_vm._v(\" \"+_vm._s(_vm.$t('order.store.address'))+\" \")])]),_c('div',{staticClass:\"reports_list_body\"},_vm._l((_vm.reportOrders[_vm.pagination.currentPage]),function(order){return _c('div',{key:order.id,staticClass:\"reports_list_body_row\",on:{\"click\":function($event){return _vm.showOrderDetail(order)}}},[_c('div',{staticClass:\"reports_list_date reports_list_body_td\"},[_c('div',{staticClass:\"reports_list_date_date\"},[_vm._v(\" \"+_vm._s(_vm._f(\"formatDate\")(order.dispatchingTime))+\" \")]),_c('div',{staticClass:\"reports_list_date_time\"},[_vm._v(\" \"+_vm._s(_vm._f(\"formatHours\")(order.dispatchingTime))+\" \")])]),_c('div',{staticClass:\"reports_list_body_td\"},[_c('div',{staticClass:\"reports_list_body_code\"},[_vm._v(\" \"+_vm._s(order.code)+\" \")]),_c('div',{staticClass:\"reports_list_body_code\"},[(order.refundIncident && order.refundIncident.reason)?_c('icon',{attrs:{\"name\":\"refund-icon\"}}):_vm._e(),(_vm.hasBadRatings(order))?_c('icon',{attrs:{\"name\":\"unlike-icon\"}}):_vm._e(),(order.currentStatus === 'CanceledStatus')?_c('icon',{attrs:{\"name\":\"cancel-icon\"}}):_vm._e()],1)]),_c('div',{staticClass:\"reports_list_body_td\"},[_c('div',{staticClass:\"reports_list_currency_price\"},[_vm._v(\" \"+_vm._s(_vm.totalPrice(order))+\" \")]),(order.paymentMethod === 'CASH')?_c('div',{staticClass:\"reports_list_currency_payment\"},[_c('icon',{attrs:{\"name\":\"cash-icon\"}})],1):_vm._e()]),_c('div',{staticClass:\"reports_list_body_td\",attrs:{\"data-qa\":\"pick-up-code\"}},[_vm._v(\" \"+_vm._s(_vm.pickupCodeText(order))+\" \")]),_c('div',{staticClass:\"reports_list_body_td\"},[_vm._v(\" \"+_vm._s(order.cityName)+\" \")]),_c('div',{staticClass:\"reports_list_body_td\"},[_vm._v(\" \"+_vm._s(order.storeName)+\" \")]),_c('div',{staticClass:\"reports_list_body_td reports_list_body_td_wide\"},[_vm._v(\" \"+_vm._s(order.storeAddress)+\" \")])])}),0)]),_c('el-pagination',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.loading),expression:\"loading\",modifiers:{\"fullscreen\":true,\"lock\":true}}],attrs:{\"element-loading-text\":_vm.$t('sa.stats.loading'),\"layout\":\"prev, pager, next\",\"total\":_vm.pagination.totalPages,\"current-page\":_vm.currentPage,\"page-size\":1},on:{\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event},\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)]),_c('filter-popup',{attrs:{\"filter-modal-displayed\":_vm.filterModalDisplayed,\"handle-close\":_vm.changeFilterModalDisplay,\"mcd\":_vm.isMCD},on:{\"update-addresses\":_vm.updateSelectedAddresses,\"handleClose\":_vm.changeFilterModalDisplay,\"saved\":_vm.filterReports}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.dialogVisible)?_c('el-dialog',{staticClass:\"historical-filter\",attrs:{\"title\":_vm.$t('reports.filter.title'),\"visible\":_vm.dialogVisible,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{staticClass:\"historic-form\"},[(_vm.availableStoreAddresses.length > 1)?_c('div',{staticClass:\"filter_section_content_step\"},[_c('h3',[_vm._v(_vm._s(_vm.$t('reports.filter.stores')))]),_c('store-address-selector',{attrs:{\"options\":_vm.selectedStoreAddresses},on:{\"selection-change\":_vm.updateSelectedIdsForFiltering}})],1):_vm._e(),_c('div',{staticClass:\"filter_section_content_incidence filter_section_content_step\"},[_c('h3',[_vm._v(_vm._s(_vm.$t('reports.filter.incidences')))]),_c('el-checkbox',{staticClass:\"filter_section_item\",attrs:{\"disabled\":_vm.filterOptions.code.length > 0},model:{value:(_vm.filterOptions.incidents.badRating),callback:function ($$v) {_vm.$set(_vm.filterOptions.incidents, \"badRating\", $$v)},expression:\"filterOptions.incidents.badRating\"}},[_vm._v(\" \"+_vm._s(_vm.$t('reports.filter.incidence.badRating'))+\" \")]),_c('el-checkbox',{staticClass:\"filter_section_item\",attrs:{\"disabled\":_vm.filterOptions.code.length > 0},model:{value:(_vm.filterOptions.incidents.cancelled),callback:function ($$v) {_vm.$set(_vm.filterOptions.incidents, \"cancelled\", $$v)},expression:\"filterOptions.incidents.cancelled\"}},[_vm._v(\" \"+_vm._s(_vm.$t('reports.filter.incidence.canceled'))+\" \")]),_c('el-checkbox',{staticClass:\"filter_section_item\",attrs:{\"disabled\":_vm.filterOptions.code.length > 0},model:{value:(_vm.filterOptions.incidents.orderWithRefund),callback:function ($$v) {_vm.$set(_vm.filterOptions.incidents, \"orderWithRefund\", $$v)},expression:\"filterOptions.incidents.orderWithRefund\"}},[_vm._v(\" \"+_vm._s(_vm.$t('reports.filter.incidence.refund'))+\" \")])],1),_c('div',{staticClass:\"filter_section_content_period filter_section_content_step\"},[_c('h3',[_vm._v(_vm._s(_vm.$t('reports.filter.onlyCash.title')))]),_c('el-checkbox',{staticClass:\"filter_section_item\",model:{value:(_vm.filterOptions.courierPaidWithCash),callback:function ($$v) {_vm.$set(_vm.filterOptions, \"courierPaidWithCash\", $$v)},expression:\"filterOptions.courierPaidWithCash\"}},[_vm._v(\" \"+_vm._s(_vm.$t('reports.filter.onlyCash.text'))+\" \")]),_c('el-checkbox',{staticClass:\"filter_section_item\",model:{value:(_vm.filterOptions.orderPaidWithCard),callback:function ($$v) {_vm.$set(_vm.filterOptions, \"orderPaidWithCard\", $$v)},expression:\"filterOptions.orderPaidWithCard\"}},[_vm._v(\" \"+_vm._s(_vm.$t('reports.filter.card.text'))+\" \")])],1),_c('div',{staticClass:\"filter_section_content_period filter_section_content_step\"},[_c('h3',[_vm._v(_vm._s(_vm.$t('reports.filter.period')))]),_c('el-select',{attrs:{\"data-qa\":\"picker-select\"},model:{value:(_vm.filterOptions.period.option),callback:function ($$v) {_vm.$set(_vm.filterOptions.period, \"option\", $$v)},expression:\"filterOptions.period.option\"}},_vm._l((_vm.pickerOptions.shortcuts),function(option){return _c('el-option',{key:option.name,attrs:{\"data-qa\":(\"picker-option-\" + (option.name)),\"value\":option.name,\"label\":option.text,\"name\":option.text}})}),1),_c('div',{staticClass:\"period_date-pickers\"},[(_vm.filterOptions.period.option === 'custom')?_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":_vm.$t('from.label'),\"unlink-panels\":\"\"},on:{\"change\":_vm.changeDate},model:{value:(_vm.form.period.start),callback:function ($$v) {_vm.$set(_vm.form.period, \"start\", $$v)},expression:\"form.period.start\"}}):_vm._e(),(_vm.filterOptions.period.option === 'custom')?_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":_vm.$t('until.label'),\"unlink-panels\":\"\"},on:{\"change\":_vm.changeDate},model:{value:(_vm.form.period.end),callback:function ($$v) {_vm.$set(_vm.form.period, \"end\", $$v)},expression:\"form.period.end\"}}):_vm._e()],1)],1)]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('glovo-btn',{attrs:{\"text\":_vm.$t('reports.filter.clear'),\"type\":\"transparent-green\"},on:{\"clack\":_vm.cleanFilter}}),_c('el-button',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.filterForm.loading),expression:\"filterForm.loading\"}],staticClass:\"apply\",attrs:{\"disabled\":_vm.actionDisabled,\"type\":\"success\",\"data-qa\":\"apply-changes\"},on:{\"click\":function($event){return _vm.saveParameters()}}},[_vm._v(\" \"+_vm._s(_vm.$t('reports.filter.button'))+\" \")])],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    v-if=\"dialogVisible\"\n    class=\"historical-filter\"\n    :title=\"$t('reports.filter.title')\"\n    :visible.sync=\"dialogVisible\"\n    :before-close=\"handleClose\"\n  >\n    <el-form class=\"historic-form\">\n      <div\n        v-if=\"availableStoreAddresses.length > 1\"\n        class=\"filter_section_content_step\"\n      >\n        <h3>{{ $t('reports.filter.stores') }}</h3>\n        <store-address-selector\n          :options=\"selectedStoreAddresses\"\n          @selection-change=\"updateSelectedIdsForFiltering\"\n        />\n      </div>\n      <div class=\"filter_section_content_incidence filter_section_content_step\">\n        <h3>{{ $t('reports.filter.incidences') }}</h3>\n        <el-checkbox\n          v-model=\"filterOptions.incidents.badRating\"\n          class=\"filter_section_item\"\n          :disabled=\"filterOptions.code.length > 0\"\n        >\n          {{ $t('reports.filter.incidence.badRating') }}\n        </el-checkbox>\n        <el-checkbox\n          v-model=\"filterOptions.incidents.cancelled\"\n          class=\"filter_section_item\"\n          :disabled=\"filterOptions.code.length > 0\"\n        >\n          {{ $t('reports.filter.incidence.canceled') }}\n        </el-checkbox>\n        <el-checkbox\n          v-model=\"filterOptions.incidents.orderWithRefund\"\n          class=\"filter_section_item\"\n          :disabled=\"filterOptions.code.length > 0\"\n        >\n          {{ $t('reports.filter.incidence.refund') }}\n        </el-checkbox>\n      </div>\n      <div class=\"filter_section_content_period filter_section_content_step\">\n        <h3>{{ $t('reports.filter.onlyCash.title') }}</h3>\n        <el-checkbox\n          v-model=\"filterOptions.courierPaidWithCash\"\n          class=\"filter_section_item\"\n        >\n          {{ $t('reports.filter.onlyCash.text') }}\n        </el-checkbox>\n        <el-checkbox\n          v-model=\"filterOptions.orderPaidWithCard\"\n          class=\"filter_section_item\"\n        >\n          {{ $t('reports.filter.card.text') }}\n        </el-checkbox>\n      </div>\n      <div class=\"filter_section_content_period filter_section_content_step\">\n        <h3>{{ $t('reports.filter.period') }}</h3>\n        <el-select\n          v-model=\"filterOptions.period.option\"\n          data-qa=\"picker-select\"\n        >\n          <el-option\n            v-for=\"option of pickerOptions.shortcuts\"\n            :key=\"option.name\"\n            :data-qa=\"`picker-option-${option.name}`\"\n            :value=\"option.name\"\n            :label=\"option.text\"\n            :name=\"option.text\"\n          />\n        </el-select>\n        <div class=\"period_date-pickers\">\n          <el-date-picker\n            v-if=\"filterOptions.period.option === 'custom'\"\n            v-model=\"form.period.start\"\n            type=\"date\"\n            :placeholder=\"$t('from.label')\"\n            unlink-panels\n            @change=\"changeDate\"\n          >\n          </el-date-picker>\n          <el-date-picker\n            v-if=\"filterOptions.period.option === 'custom'\"\n            v-model=\"form.period.end\"\n            type=\"date\"\n            :placeholder=\"$t('until.label')\"\n            unlink-panels\n            @change=\"changeDate\"\n          >\n          </el-date-picker>\n        </div>\n      </div>\n    </el-form>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <glovo-btn\n        :text=\"$t('reports.filter.clear')\"\n        type=\"transparent-green\"\n        @clack=\"cleanFilter\"\n      />\n      <el-button\n        v-loading=\"filterForm.loading\"\n        :disabled=\"actionDisabled\"\n        type=\"success\"\n        class=\"apply\"\n        data-qa=\"apply-changes\"\n        @click=\"saveParameters()\"\n      >\n        {{ $t('reports.filter.button') }}\n      </el-button>\n    </span>\n  </el-dialog>\n</template>\n<script>\nimport { mapGetters } from 'vuex'\nimport moment from 'moment-timezone'\nimport StoreAddressSelector from 'common/StoreAddressSelector'\nimport GlovoBtn from 'common/GlovoBtn'\nimport {\n  GET_AVAILABLE_STORE_ADDRESS_IDS_GETTER,\n  GET_SELECTED_STORE_ADDRESS_IDS_GETTER\n} from '@/modules/authentication'\n\nexport default {\n  name: 'FilterPopup',\n  components: {\n    GlovoBtn,\n    StoreAddressSelector\n  },\n  props: {\n    mcd: {\n      type: Boolean\n    },\n    filterModalDisplayed: {\n      type: Boolean\n    },\n    handleClose: {\n      type: Function,\n      required: true\n    }\n  },\n  data() {\n    return {\n      form: {\n        period: {\n          start: null,\n          end: null\n        }\n      },\n      filterOptions: {\n        period: {\n          start: moment().subtract(6, 'months').startOf('day').valueOf(),\n          end: moment().endOf('day').valueOf(),\n          option: 'all'\n        },\n        incidents: {\n          badRating: false,\n          cancelled: false,\n          orderWithRefund: false\n        },\n        courierPaidWithCash: false,\n        orderPaidWithCard: false,\n        code: ''\n      },\n      pickerOptions: {\n        shortcuts: {\n          all: {\n            text: this.$i18n.t('reports.filter.periods.all'),\n            name: 'all',\n            values: {\n              end: moment(),\n              start: moment().subtract(6, 'months').startOf('day')\n            }\n          },\n          today: {\n            text: this.$i18n.t('reports.filter.periods.today'),\n            name: 'today',\n            values: {\n              end: moment(),\n              start: moment().startOf('day')\n            }\n          },\n          yesterday: {\n            text: this.$i18n.t('reports.filter.periods.yesterday'),\n            name: 'yesterday',\n            values: {\n              start: moment().subtract(1, 'days').startOf('day'),\n              end: moment().subtract(1, 'days').endOf('day')\n            }\n          },\n          lastWeek: {\n            text: this.$i18n.t('reports.filter.periods.week'),\n            name: 'lastWeek',\n            values: {\n              end: moment(),\n              start: moment().subtract(7, 'days').startOf('day')\n            }\n          },\n          '2Weeks': {\n            text: this.$i18n.t('reports.filter.periods.2Weeks'),\n            name: '2Weeks',\n            values: {\n              end: moment(),\n              start: moment().subtract(15, 'days').startOf('day')\n            }\n          },\n          custom: {\n            text: this.$i18n.t('reports.filter.periods.custom'),\n            name: 'custom'\n          }\n        }\n      },\n      filterForm: { loading: false },\n      filteredStoreAddressIds: []\n    }\n  },\n  computed: {\n    ...mapGetters(['searchFilter']),\n    ...mapGetters('authentication', [\n      GET_AVAILABLE_STORE_ADDRESS_IDS_GETTER,\n      GET_SELECTED_STORE_ADDRESS_IDS_GETTER\n    ]),\n    selectedStoreAddresses() {\n      return this[GET_SELECTED_STORE_ADDRESS_IDS_GETTER]\n    },\n    availableStoreAddresses() {\n      return this[GET_AVAILABLE_STORE_ADDRESS_IDS_GETTER]\n    },\n    dialogVisible: {\n      get() {\n        return this.filterModalDisplayed\n      },\n      set(value) {\n        if (!value) {\n          this.$emit('handle-close')\n        }\n      }\n    },\n    actionDisabled() {\n      if (!this.filterOptions.period.option) {\n        return true\n      } else if (\n        this.filterOptions.period.option === 'custom' &&\n        (!this.form.period.start || !this.form.period.end)\n      ) {\n        return true\n      }\n      return false\n    }\n  },\n  watch: {\n    dialogVisible(value) {\n      this.dialogVisible = value\n    },\n    filterOptions() {\n      if (!this.filterOptions) {\n        this.filterOptions = Object.assign({}, this.searchFilter)\n      }\n      if (this.filterOptions.period.option === 'custom') {\n        this.form.period.start = moment(this.filterOptions.period.start)\n        this.form.period.end = moment(this.filterOptions.period.end)\n      }\n    }\n  },\n  methods: {\n    changeDate() {\n      if (this.form.period.start && this.form.period.end) {\n        if (this.form.period.start.valueOf() > this.form.period.end.valueOf()) {\n          const end = this.form.period.start\n          this.form.period.start = this.form.period.end\n          this.form.period.end = end\n        }\n      }\n\n      if (this.form.period.start || this.form.period.end) {\n        this.filterOptions.period.option = 'custom'\n      }\n    },\n    updateSelectedIdsForFiltering(ids) {\n      this.filteredStoreAddressIds = ids\n      this.$emit('update-addresses', ids)\n    },\n    cleanFilter() {\n      this.filterOptions = {\n        period: {\n          start: moment().startOf('day').utc().valueOf(),\n          end: moment().endOf('day').endOf('day').utc().valueOf(),\n          option: 'all'\n        },\n        incidents: {\n          badRating: false,\n          cancelled: false,\n          orderWithRefund: false\n        },\n        onlyCash: false,\n        card: false,\n        courierPaidWithCash: false,\n        orderPaidWithCard: false,\n        code: ''\n      }\n      if (this.availableStoreAddresses.length > 1) {\n        this.filteredStoreAddressIds = []\n        this.$emit('update-addresses', [])\n      }\n    },\n    saveParameters() {\n      const period =\n        this.filterOptions.period.option !== 'custom'\n          ? {\n              start: this.pickerOptions.shortcuts[\n                this.filterOptions.period.option\n              ].values.start\n                .startOf('day')\n                .valueOf(),\n              end: this.pickerOptions.shortcuts[\n                this.filterOptions.period.option\n              ].values.end\n                .endOf('day')\n                .valueOf()\n            }\n          : {\n              start: moment(this.form.period.start).startOf('day').valueOf(),\n              end: moment(this.form.period.end).endOf('day').valueOf()\n            }\n      this.$emit('saved', {\n        ...this.filterOptions,\n        period: { ...period, option: this.filterOptions.period.option }\n      })\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scope>\n@import '~styles';\n\n.el-picker-panel.el-date-picker {\n  margin-top: 20px;\n}\n.historical-filter {\n  background-color: white;\n  .historic-form {\n    margin: 0 auto;\n    padding: 0 30px;\n    & .el-checkbox__inner {\n      width: 20px;\n      height: 20px;\n      &::after {\n        height: 8px;\n        left: 5px;\n        width: 4px;\n        top: 1px;\n      }\n    }\n    & .period_date-pickers {\n      display: inline-block;\n    }\n  }\n  & .el-dialog {\n    box-shadow: none;\n    @media (max-width: 600px) {\n      top: 0 !important;\n    }\n    &__body {\n      padding: 30px 20px 10px 20px;\n      @media (max-width: $desktop-width) {\n        padding-top: 10px;\n      }\n    }\n  }\n  & .dialog-footer {\n    & .glovo-btn {\n      margin: 0 auto 60px auto;\n      display: block;\n      text-align: center;\n      font-size: 14px;\n      @media (max-width: $desktop-width) {\n        margin-bottom: 25px;\n      }\n    }\n  }\n  .el-checkbox__inner,\n  .el-radio__inner {\n    border: #ffc44e 1px solid;\n  }\n  .el-dialog__footer {\n    text-align: center;\n  }\n\n  @media (max-width: $desktop-width) {\n    .el-date-editor {\n      margin-top: 10px;\n    }\n  }\n\n  h3 {\n    margin: 10px 0;\n  }\n\n  .el-dialog__headerbtn {\n    float: left;\n  }\n  .filter_section_content_step {\n    margin: 30px 0 0;\n    @media (max-width: $desktop-width) {\n      margin-top: 15px;\n    }\n  }\n  .el-dialog__clearbtn {\n    color: #2abb9b;\n    font-weight: bold;\n    font-size: 15px;\n    top: 25px;\n    right: 20px;\n    position: absolute;\n    cursor: pointer;\n    border: none;\n    background: none;\n  }\n  .apply {\n    height: 48px;\n    text-transform: uppercase;\n    font-family: Gotham-Medium, sans-serif;\n    min-width: 200px;\n  }\n  & /deep/ .el-date-editor--date .el-input__inner {\n    background: #fff;\n  }\n  & /deep/ .el-checkbox.filter_section_item {\n    margin: 5px;\n    display: inline-block;\n  }\n  .el-dialog__header {\n    text-align: center;\n  }\n  @media (max-width: 880px) and (min-width: 600px) {\n    & /deep/ .el-dialog--small {\n      width: 90%;\n    }\n  }\n  @media (max-width: 600px) {\n    & /deep/ .el-dialog--small {\n      width: 100%;\n    }\n  }\n  & /deep/ .el-radio-group .el-radio {\n    min-width: 50%;\n    display: inline;\n    width: auto;\n  }\n  &_section {\n    &_title {\n      color: #313132;\n      font-family: Gotham-Medium, sans-serif;\n      margin-bottom: 10px;\n      font-size: 20px;\n    }\n    &_subtitle {\n      color: #313132;\n      font-size: 20px;\n    }\n    &_content {\n      margin: 40px 0;\n      &_step {\n        & h3 {\n          margin-bottom: 10px;\n          font-weight: bolder;\n        }\n      }\n    }\n  }\n}\n.separator {\n  margin: 20px 0;\n  height: 1px;\n  background-color: #d9dada;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterPopup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilterPopup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilterPopup.vue?vue&type=template&id=1381d4f2&\"\nimport script from \"./FilterPopup.vue?vue&type=script&lang=js&\"\nexport * from \"./FilterPopup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilterPopup.vue?vue&type=style&index=0&lang=scss&scope=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { mapActions, mapGetters } from 'vuex'\nimport { DISPLAY_REPORTS_HISTORY } from '@/modules/store/services/display-types'\nimport Icon from '@/components/common/Icon'\nimport FilterPopup from '@/components/main/popups/FilterPopup'\nimport HistoryOrderDetails from './HistoryOrderDetails'\nimport intersection from 'lodash/intersection'\nimport HistoryOrder from 'models/HistoryOrder'\nimport Pair from 'common/Pair'\nimport {\n  GET_CURRENT_STORE_ADMIN_GETTER,\n  GET_SELECTED_STORE_ADDRESS_IDS_GETTER\n} from '@/modules/authentication'\nimport { currency } from '@/modules/core/filters'\n\nexport default {\n  components: {\n    Icon,\n    FilterPopup,\n    HistoryOrderDetails,\n    Pair\n  },\n  data() {\n    return {\n      activeNames: ['1'],\n      filterModalDisplayed: false,\n      currentPage: 1,\n      orderDetail: {},\n      shouldShowOrderDetailsDialog: false,\n      filteredIds: [],\n      isLoadingDetails: false,\n      filter: {\n        code: null\n      }\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'display',\n      'orderModalDisplayed',\n      'pagination',\n      'sales',\n      'reportOrders',\n      'loading',\n      'searchFilter'\n    ]),\n    ...mapGetters('authentication', [\n      GET_CURRENT_STORE_ADMIN_GETTER,\n      GET_SELECTED_STORE_ADDRESS_IDS_GETTER\n    ]),\n    user() {\n      return this[GET_CURRENT_STORE_ADMIN_GETTER]\n    },\n    selectedStoreAddresses() {\n      return this[GET_SELECTED_STORE_ADDRESS_IDS_GETTER]\n    },\n    isMCD() {\n      return this.user &&\n        this.user.store.storeAddresses &&\n        this.user.store.storeAddresses.length > 0\n        ? this.user.store.storeAddresses[0].mcd\n        : false\n    },\n    selectedFilters() {\n      let filters = this.searchFilter.period.option ? 1 : 0\n      filters += this.searchFilter.incidents\n        ? Object.keys(this.searchFilter.incidents).filter(\n            key => !!this.searchFilter.incidents[key]\n          ).length\n        : 0\n      filters += this.searchFilter.courierPaidWithCash ? 1 : 0\n      filters += this.searchFilter.orderPaidWithCard ? 1 : 0\n      return filters === 0 ? null : filters\n    },\n    storeAddressIds() {\n      return this.filteredIds.length === 0\n        ? this.selectedStoreAddresses\n        : this.filteredIds\n    }\n  },\n  watch: {\n    selectedStoreAddresses() {\n      this.refresh(this.selectedStoreAddresses)\n    }\n  },\n  mounted() {\n    this.displayState(DISPLAY_REPORTS_HISTORY)\n    this.refresh(this.storeAddressIds)\n  },\n  activated() {\n    this.displayState(DISPLAY_REPORTS_HISTORY)\n  },\n  methods: {\n    ...mapActions([\n      'changeModalDisplay',\n      'displayState',\n      'setOrderDetails',\n      'setReportOrders',\n      'setSearchFilter',\n      'setStatistics',\n      'updateSearch',\n      'exportToExcel'\n    ]),\n    changeOrderDetailVisibility(visibilty) {\n      this.shouldShowOrderDetailsDialog = visibilty\n    },\n    changeFilterModalDisplay() {\n      this.filterModalDisplayed = false\n    },\n    async showOrderDetail(order) {\n      this.isLoadingDetails = true\n      this.shouldShowOrderDetailsDialog = true\n      await this.setOrderDetails(order)\n      this.isLoadingDetails = false\n    },\n    refresh(ids) {\n      if (ids && ids.length === 0) {\n        ids = this.selectedStoreAddresses\n      }\n      this.setStatistics(ids)\n      this.setReportOrders({\n        page: this.currentPage,\n        storeAddressIds: ids\n      })\n    },\n    handleSizeChange() {},\n    handleCurrentChange() {\n      this.setReportOrders({\n        page: this.currentPage,\n        storeAddressIds: this.storeAddressIds\n      })\n    },\n    excel() {\n      this.exportToExcel(this.storeAddressIds)\n    },\n    updateSelectedAddresses(ids) {\n      this.filteredIds = ids\n    },\n    hasBadRatings(order) {\n      return (\n        order.badRatingReasons &&\n        intersection(order.badRatingReasons, HistoryOrder.badRatingReasons())\n          .length > 0\n      )\n    },\n    filterReports(config) {\n      this.filterModalDisplayed = false\n      this.updateSearch({\n        searchFilter: config,\n        storeAddressIds: this.storeAddressIds\n      })\n    },\n    searchByCode() {\n      this.updateSearch({\n        searchFilter: this.searchFilter,\n        storeAddressIds: this.storeAddressIds\n      })\n    },\n    totalPrice(order) {\n      return currency(order.totalPrice)\n    },\n    pickupCodeText(order) {\n      return order?.pickupCode ?? '-'\n    }\n  }\n}\n</script>\n\n<template>\n  <section class=\"reports_section\">\n    <el-dialog\n      v-if=\"shouldShowOrderDetailsDialog\"\n      v-loading=\"isLoadingDetails\"\n      :visible=\"shouldShowOrderDetailsDialog\"\n      class=\"history-order-detail\"\n      @visible-change=\"changeOrderDetailVisibility\"\n    >\n      <history-order-details\n        @backAction=\"() => changeOrderDetailVisibility(false)\"\n      />\n    </el-dialog>\n\n    <h2>{{ $t('tab.history') }}</h2>\n\n    <div class=\"reports_header\">\n      <div class=\"filter_section_content_order filter_section_content_step\">\n        <br />\n        <el-input\n          v-model=\"searchFilter.code\"\n          class=\"input-with-select search-input\"\n          :placeholder=\"$t('reports.filter.order.hint')\"\n          @keyup.enter.native=\"searchByCode\"\n        >\n          <el-button slot=\"append\" @click=\"searchByCode\">\n            <font-awesome-icon icon=\"search\" />\n          </el-button>\n        </el-input>\n        <button\n          class=\"el-dialog__clearbtn green_btn\"\n          @click=\"filterModalDisplayed = true\"\n        >\n          {{ $t('reports.filter') }}\n          <span v-if=\"selectedFilters\" class=\"show-selected-filters\">\n            {{ selectedFilters }}\n          </span>\n        </button>\n        <div class=\"reports_header_refresh\" @click=\"refresh(filteredIds)\">\n          <icon name=\"refresh_icon\"></icon>\n        </div>\n        <br />\n        <br />\n      </div>\n    </div>\n    <el-collapse v-model=\"activeNames\">\n      <el-collapse-item :title=\"$t('summary.title')\" name=\"1\">\n        <div class=\"left_summary\">\n          <pair\n            class=\"bold\"\n            :left=\"$t('reports.history.sales.title')\"\n            :right=\"sales.total | currency\"\n          >\n          </pair>\n          <pair\n            :left=\"$t('reports.history.sales.cash')\"\n            :right=\"sales.cashTotal | currency\"\n          >\n          </pair>\n          <pair\n            :left=\"$t('reports.history.sales.card')\"\n            :right=\"sales.cardTotal | currency\"\n          >\n          </pair>\n          <div class=\"separator\"></div>\n          <pair\n            class=\"bold\"\n            :left=\"$t('reports.history.sales.refund')\"\n            :right=\"(0 - sales.totalRefund) | currency\"\n          >\n          </pair>\n          <pair\n            class=\"bold\"\n            :left=\"$t('reports.history.sales.cancellation')\"\n            :right=\"-sales.cancelledTotal | currency\"\n          >\n          </pair>\n          <div class=\"separator strong\"></div>\n          <pair\n            class=\"bold\"\n            :left=\"$t('reports.history.sales.netvalue')\"\n            :right=\"sales.netValue | currency\"\n          >\n          </pair>\n        </div>\n        <div class=\"right_summary\">\n          <pair\n            class=\"bold\"\n            :left=\"$t('reports.history.sales.total.order')\"\n            :right=\"sales.totalOrders\"\n          >\n          </pair>\n          <pair\n            :left=\"$t('reports.history.sales.cash')\"\n            :right=\"sales.cashOrders\"\n          >\n          </pair>\n          <pair\n            :left=\"$t('reports.history.sales.card')\"\n            :right=\"sales.cardOrders\"\n          >\n          </pair>\n          <div class=\"separator\"></div>\n          <pair\n            class=\"bold\"\n            :left=\"$t('reports.history.sales.avg')\"\n            :right=\"sales.avgOrderValue | currency\"\n          >\n          </pair>\n          <div class=\"separator\"></div>\n        </div>\n      </el-collapse-item>\n    </el-collapse>\n    <br />\n\n    <!-- REPORTS TABLE -->\n    <!-- TD task to investigate refactoring this table: https://glovoapp.atlassian.net/browse/PAR-2739 -->\n    <div class=\"history-results\">\n      <div class=\"reports_header_preview_data_time\">\n        {{ $t('reports.history.time.title') }}\n      </div>\n      <div class=\"reports_header_export\">\n        <a class=\"green_btn\" title=\"export\" @click=\"excel()\">\n          {{ $t('reports.history.export') }}\n        </a>\n      </div>\n      <div v-loading=\"loading\" class=\"reports_list\">\n        <div class=\"reports_list_table\">\n          <div class=\"reports_list_body_row reports_list_head\">\n            <div class=\"reports_list_body_td reports_list_body_th\">\n              <span>{{ $t('reports.history.date') }}</span>\n            </div>\n            <div class=\"reports_list_body_td reports_list_body_th\">\n              {{ $t('reports.history.orderId') }}\n            </div>\n            <div class=\"reports_list_body_td reports_list_body_th\">\n              {{ $t('order.products.price') }}\n            </div>\n            <div class=\"reports_list_body_td reports_list_body_th\">\n              {{ $t('ticket.pickup.code') }}\n            </div>\n            <div class=\"reports_list_body_td reports_list_body_th\">\n              {{ $t('order.store.city') }}\n            </div>\n            <div class=\"reports_list_body_td reports_list_body_th\">\n              {{ $t('order.store.name') }}\n            </div>\n            <div\n              class=\"reports_list_body_td reports_list_body_td_wide reports_list_body_th\"\n            >\n              {{ $t('order.store.address') }}\n            </div>\n          </div>\n          <div class=\"reports_list_body\">\n            <div\n              v-for=\"order in reportOrders[pagination.currentPage]\"\n              :key=\"order.id\"\n              class=\"reports_list_body_row\"\n              @click=\"showOrderDetail(order)\"\n            >\n              <div class=\"reports_list_date reports_list_body_td\">\n                <div class=\"reports_list_date_date\">\n                  {{ order.dispatchingTime | formatDate }}\n                </div>\n                <div class=\"reports_list_date_time\">\n                  {{ order.dispatchingTime | formatHours }}\n                </div>\n              </div>\n              <div class=\"reports_list_body_td\">\n                <div class=\"reports_list_body_code\">\n                  {{ order.code }}\n                </div>\n                <div class=\"reports_list_body_code\">\n                  <icon\n                    v-if=\"order.refundIncident && order.refundIncident.reason\"\n                    name=\"refund-icon\"\n                  ></icon>\n                  <icon v-if=\"hasBadRatings(order)\" name=\"unlike-icon\"></icon>\n                  <icon\n                    v-if=\"order.currentStatus === 'CanceledStatus'\"\n                    name=\"cancel-icon\"\n                  ></icon>\n                </div>\n              </div>\n              <div class=\"reports_list_body_td\">\n                <div class=\"reports_list_currency_price\">\n                  {{ totalPrice(order) }}\n                </div>\n                <div\n                  v-if=\"order.paymentMethod === 'CASH'\"\n                  class=\"reports_list_currency_payment\"\n                >\n                  <icon name=\"cash-icon\"></icon>\n                </div>\n              </div>\n              <div class=\"reports_list_body_td\" data-qa=\"pick-up-code\">\n                {{ pickupCodeText(order) }}\n              </div>\n              <div class=\"reports_list_body_td\">\n                {{ order.cityName }}\n              </div>\n              <div class=\"reports_list_body_td\">\n                {{ order.storeName }}\n              </div>\n              <div class=\"reports_list_body_td reports_list_body_td_wide\">\n                {{ order.storeAddress }}\n              </div>\n            </div>\n          </div>\n        </div>\n        <el-pagination\n          v-loading.fullscreen.lock=\"loading\"\n          :element-loading-text=\"$t('sa.stats.loading')\"\n          layout=\"prev, pager, next\"\n          :total=\"pagination.totalPages\"\n          :current-page.sync=\"currentPage\"\n          :page-size=\"1\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n        >\n        </el-pagination>\n      </div>\n    </div>\n\n    <filter-popup\n      :filter-modal-displayed=\"filterModalDisplayed\"\n      :handle-close=\"changeFilterModalDisplay\"\n      :mcd=\"isMCD\"\n      @update-addresses=\"updateSelectedAddresses\"\n      @handleClose=\"changeFilterModalDisplay\"\n      @saved=\"filterReports\"\n    >\n    </filter-popup>\n  </section>\n</template>\n\n<style lang=\"scss\">\n@import '~styles';\n\n.reports {\n  color: #272727;\n  .history-results {\n    background-color: white;\n    padding: 20px;\n    @media (max-width: $desktop-width) {\n      padding: 10px;\n    }\n  }\n  .history-order-detail /deep/ {\n    @media (max-width: $desktop-width) {\n      & .el-dialog--small {\n        width: 100%;\n      }\n    }\n  }\n\n  .el-collapse-item__header:hover {\n    background: #fff;\n  }\n\n  .el-collapse-item__header {\n    padding: 20px;\n    border: none;\n    height: 56px;\n    color: #272727;\n  }\n\n  .el-collapse-item__content {\n    padding: 10px 0 !important;\n    margin: 0 auto;\n    display: flex;\n    justify-content: space-around;\n    flex-direction: row;\n    flex-wrap: wrap;\n  }\n\n  & .svg-inline--fa.fa-w-16 {\n    color: #626262;\n  }\n\n  .search-input input {\n    background-color: #fff;\n  }\n\n  .search-input .el-input-group__append {\n    background-color: #f0f0f0;\n  }\n\n  .reports_section h2 {\n    font-size: 30px;\n  }\n\n  .reports_section {\n    .separator {\n      margin: 10px 0;\n      display: inline-block;\n    }\n    .separator.strong {\n      border: 1.2px solid silver;\n    }\n  }\n\n  .el-collapse-item__header {\n    font-size: 22px;\n  }\n\n  .el-collapse-item__wrap {\n    padding-left: 0;\n  }\n\n  .el-collapse {\n    max-width: 730px;\n  }\n\n  .left_summary {\n    width: 285px;\n    display: inline-grid;\n    float: left;\n  }\n\n  .right_summary {\n    width: 285px;\n    display: inline-grid;\n    float: right;\n  }\n\n  & .left_summary .pair_key,\n  & .right_summary .pair_key {\n    width: 140px;\n    display: inline-block;\n  }\n\n  & .left_summary .pair_value,\n  & .right_summary .pair_value {\n    width: 140px;\n    display: inline-block;\n    text-align: right;\n    font-family: inherit;\n  }\n\n  & .left_summary .pair,\n  & .right_summary .pair {\n    font-size: 15px;\n    float: left;\n    line-height: 25px;\n  }\n\n  @media (max-width: $tablet-max-width) {\n    & .right_summary {\n      margin-top: 20px;\n      padding-top: 10px;\n      float: left;\n      clear: both;\n    }\n  }\n\n  &_list {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    &_table {\n      background: transparent;\n      margin-top: 1em;\n      width: 100%;\n      overflow: hidden;\n    }\n\n    &_body {\n      background-color: white;\n      &_row {\n        cursor: pointer;\n        display: flex;\n        border-bottom: 1px solid #ededed;\n        width: 100%;\n        min-height: 63px;\n        align-items: center;\n        @media (max-width: $tablet-width) {\n          height: 80px;\n        }\n      }\n      &_td {\n        display: flex;\n        align-items: center;\n        align-self: center;\n        width: 130px;\n        flex-direction: column;\n        font-size: 16px;\n        font-family: Gotham-Medium, sans-serif;\n        line-height: 1.2em;\n        word-break: break-word;\n        white-space: nowrap;\n        @media (max-width: $tablet-width) {\n          font-size: 14px;\n          min-width: 110px;\n        }\n        &_wide {\n          width: 40%;\n        }\n        &_status {\n          flex: 0 0 50px;\n          @media (max-width: $tablet-width) {\n            flex: 0 0 30px;\n            align-items: center;\n            justify-content: center;\n          }\n          & .glv-icon {\n            height: 22px;\n            width: 22px;\n            margin: 0 5px;\n\n            @media (max-width: $tablet-width) {\n              height: 15px;\n              width: 15px;\n              margin: 0px;\n            }\n          }\n        }\n        &_first {\n          display: flex;\n          flex-direction: column;\n          min-width: 120px;\n          @media (min-width: $desktop-min-width) {\n            display: flex;\n            flex-direction: column;\n          }\n          @media (max-width: $tablet-width) {\n            align-items: center;\n            justify-content: center;\n            flex-direction: column;\n          }\n          @media (max-width: $tablet-width) {\n            font-size: 14px;\n            align-items: center;\n            justify-content: center;\n            flex-direction: column;\n          }\n        }\n\n        &_second {\n          display: flex;\n          flex-direction: column;\n          min-width: 120px;\n          & .code-column {\n            display: inline;\n          }\n          & .glv-icon {\n            height: 20px;\n            width: 20px;\n            margin: 0 10px;\n\n            @media (max-width: $tablet-width) {\n              height: 15px;\n              width: 15px;\n              margin: 0px;\n            }\n          }\n        }\n\n        &_third {\n          display: flex;\n          flex-direction: column;\n          min-width: 120px;\n          & .glv-icon {\n            height: 20px;\n            width: 20px;\n            margin: 0 10px;\n\n            @media (max-width: $tablet-width) {\n              margin: 0 2px;\n            }\n          }\n        }\n\n        &_fourth {\n          display: flex;\n          flex-direction: column;\n          min-width: 120px;\n        }\n      }\n\n      &_th {\n        font-family: Gotham-Book, sans-serif;\n        font-size: 12px;\n        align-items: center;\n        text-transform: uppercase;\n        padding: 0 15px 0 5px;\n        text-align: left;\n        @media (max-width: $tablet-width) {\n          font-size: 14px;\n        }\n      }\n    }\n    &_head {\n      align-items: flex-end;\n      background-color: transparent;\n      text-transform: uppercase;\n      font-size: 13px;\n      font-weight: normal;\n      @media (max-width: $tablet-width) {\n        height: 60px;\n        min-height: 40px;\n        padding-bottom: 10px;\n      }\n    }\n    &_currency {\n      font-family: Gotham-Medium, sans-serif;\n      font-size: 20px;\n      font-weight: bold;\n      line-height: 1.2;\n      text-align: right;\n      color: #313132;\n      justify-content: center;\n      flex-basis: auto;\n\n      &_payment {\n        flex-direction: row;\n        .glv-icon {\n          width: 25px;\n          height: 25px;\n        }\n      }\n\n      @media (max-width: $tablet-width) {\n        font-size: 14px;\n      }\n    }\n    &_date {\n      &_date {\n        font-family: Gotham-Medium, sans-serif;\n        font-size: 15px;\n      }\n      &_time {\n        font-family: Gotham-Book, sans-serif;\n        font-size: 15px;\n      }\n    }\n  }\n\n  &_pair {\n    display: flex;\n    &_value {\n      font-family: Gotham-Bold, sans-serif;\n      margin-left: 5px;\n    }\n  }\n  &_section {\n    width: 100%;\n  }\n  &_header {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    min-height: 130px;\n\n    &_actions {\n      display: flex;\n    }\n\n    &_refresh,\n    &_export {\n      cursor: pointer;\n\n      & .glv-icon {\n        width: 25px;\n        margin: 0 5px;\n        height: 25px;\n      }\n    }\n\n    .input-with-select {\n      width: 350px;\n\n      @media (max-width: $tablet-max-width) {\n        width: 260px;\n      }\n    }\n\n    .filter_section_content_step {\n      width: 100%;\n    }\n\n    &_filter {\n      display: flex;\n      flex-direction: column;\n      justify-content: space-around;\n      align-items: flex-end;\n\n      &_button {\n        text-transform: uppercase;\n        // background-color: $white!important;\n        &_light {\n          cursor: pointer;\n          text-transform: uppercase;\n          text-decoration: underline;\n          color: $green;\n        }\n        &_inverted {\n          border: 1px solid $green !important;\n        }\n      }\n    }\n\n    &_preview_data {\n      display: flex;\n      flex-direction: column;\n      &_time {\n        display: inline;\n        font-size: 20px;\n      }\n    }\n  }\n\n  .green_btn {\n    color: #2abb9b;\n    font-weight: bold;\n  }\n\n  .el-dialog__clearbtn {\n    font-size: 16px;\n    cursor: pointer;\n    outline: none;\n    border: none;\n    background: none;\n    @media (max-width: $tablet-width) {\n      margin-top: 10px;\n    }\n  }\n\n  & .reports_header_refresh,\n  & .reports_header_export {\n    display: block;\n    float: right;\n  }\n\n  .show-selected-filters {\n    background-color: #2abb9b;\n    color: #fff;\n    border-radius: 20px;\n    width: 20px;\n    height: 20px;\n    line-height: 22px;\n    display: inline-block;\n    margin: -1px 0 0 2px;\n    vertical-align: middle;\n  }\n\n  & /deep/ .el-pagination {\n    margin: 1em;\n    display: flex;\n    justify-content: center;\n\n    & button.disabled {\n      background-color: none;\n    }\n\n    & /deep/ .btn-prev,\n    & /deep/ .btn-next {\n      background-size: auto;\n      background-color: none;\n      border: none;\n    }\n\n    & /deep/ .btn-prev .el-icon,\n    & /deep/ .btn-next .el-icon {\n      font-size: 16px;\n      font-weight: bold;\n      color: #808080;\n    }\n\n    & /deep/ .el-pager li {\n      border: none;\n      background: none;\n      margin: 0 2px;\n      font-size: 15px;\n      font-weight: bold;\n    }\n\n    & /deep/ .el-pager li.active {\n      background: #ffc244;\n      font-weight: bold;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./History.vue?vue&type=template&id=e40a4bf2&\"\nimport script from \"./History.vue?vue&type=script&lang=js&\"\nexport * from \"./History.vue?vue&type=script&lang=js&\"\nimport style0 from \"./History.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}